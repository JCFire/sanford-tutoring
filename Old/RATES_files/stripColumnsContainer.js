define("stripColumnsContainer",["react","lodash","core","santaProps","mediaCommon","backgroundCommon"],function(a,b,c,d,e,f){"use strict";var g=c.compMixins;var h=e.mediaLogicMixins.fill;function i(c){var d=b.sum(a.Children.map(c.children,function(a){return a.props.structure.layout.width}));var e=a.Children.map(c.children,function(a){return a.props.structure.layout.width/d*100/100});var f=b.sum(e);e[0]+=1-f;return e}return{displayName:"StripColumnsContainer",mixins:[h,g.skinBasedComp,f.mixins.backgroundDetectionMixin],propTypes:{style:d.Types.Component.style.isRequired,compProp:d.Types.Component.compProp,isMobileView:d.Types.isMobileView.isRequired,siteWidth:d.Types.siteWidth.isRequired,getScreenWidth:d.Types.getScreenWidth.isRequired,getScrollBarWidth:d.Types.getScrollBarWidth.isRequired,browser:d.Types.Browser.browser.isRequired},statics:{useSantaTypes:true,behaviors:h.behaviorsAPI},componentDidLayout:function(){var a=this.props.getScrollBarWidth();var b=this.props.getScreenWidth();var c=this.lastScrollBarWidth!==a;var d=this.lastScreenWidth!==b;var e=this.props.isMobileView;if(!e&&(c||d)){this.lastScrollBarWidth=a;this.lastScreenWidth=b;this.registerReLayout();this.forceUpdate()}},getDefaultSkinName:function(){return"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer"},getMobileSkinProperties:function(){var b=this.props.compProp.rowMargin;var c=a.Children.map(this.props.children,function(c){var d={position:"absolute",top:b,height:c.props.style.height,left:0,width:320};b+=d.height+this.props.compProp.columnsMargin;var e={position:"absolute",overflow:"hidden",width:320,left:0,top:0,bottom:0};c=a.cloneElement(c,{rootStyle:d,bgStyle:e});return c},this);var d=b-this.props.compProp.columnsMargin+this.props.compProp.rowMargin;return{"":{style:{height:d}},background:this.createFillLayers(),inlineContent:{children:c}}},getDesktopSkinProperties:function(){var c=this.props.siteWidth;var d=this.props.getScreenWidth();this.lastScreenWidth=d;var e=i(this.props);var f=e.length;var g=this.props.compProp;var h=c-g.columnsMargin*(f-1)-g.frameMargin*2;var j=b.map(e,function(a){return h*a});var k=b.reduce(e,function(a,b){a.push(a[a.length-1]+b);return a},[0]);var l,m,n;var o=this.props.getScrollBarWidth();this.lastScrollBarWidth=o;var p=d&&d<=c;var q;if(g.fullWidth&&!p){q=1;m="(100vw - "+o+"px - "+g.siteMargin*2+"px)";l="(100vw - "+o+"px - "+(g.columnsMargin*(f-1)+(g.siteMargin+g.frameMargin)*2)+"px)";n="("+c+"px - "+m+") / 2 + "+g.frameMargin+"px + "}else{q=0;m=c+"px";l="("+(c-(g.columnsMargin*(f-1)+g.frameMargin*2))+"px)";n=g.frameMargin+"px + "}var r=a.Children.map(this.props.children,function(b,c){var d=e[c];var f=b.props.compProp.alignment/100;var h={position:"absolute",left:"calc("+l+" * "+(k[c]+d*f)+" + "+n+(c*g.columnsMargin-j[c]*f)+"px)",width:j[c],top:g.rowMargin,height:b.props.style.height};var i={position:"absolute",width:"calc("+l+" * "+d+" + "+q+"px)",left:"calc(("+l+" * "+d+" - "+j[c]+"px) * "+-f+" - "+q+"px)",top:0,bottom:0};var m={position:"absolute",width:j[c],top:0,bottom:0,left:"calc((100% - "+j[c]+"px) * "+f+")"};b=a.cloneElement(b,{rootStyle:h,bgStyle:i,inlineStyle:m});return b},this);var s=this.getDesktopBalataProps(m,c);return{"":{},background:this.createFillLayers(s),inlineContent:{children:r}}},getDesktopBalataProps:function(a,c){return b.assign({bgStyle:{top:0,bottom:0,left:"calc("+parseInt(c/2,10)+"px - ("+a+" / 2))",right:"calc("+parseInt(c/2,10)+"px + ("+a+" / 2))",width:"calc("+a+")"}},this.props)},getSkinProperties:function(){if(this.props.isMobileView){return this.getMobileSkinProperties()}return this.getDesktopSkinProperties()}}});