define("siteUtils/utils/mobileUtils",[],function(){"use strict";var a=12;var b={26:26,27:26,28:26,29:27,30:27,31:27,32:28,33:28,34:28,35:29,36:29,37:29,38:30,39:30,40:30,41:31,42:31,43:31,44:32,45:32,46:32,47:33,48:33,49:33,50:34,51:34,52:34,53:35,54:35,55:35,56:36,57:36,58:36,59:37,60:37,61:37,62:38,63:38,64:38,65:39,66:39,67:39,68:40,69:40,70:40,71:41,72:41,73:41,74:42,75:42,76:42,77:43,78:43,79:43,80:44,81:44,82:44,83:45,84:45,85:45,86:46,87:46,88:46,89:47,90:47,91:47,92:48,93:48,94:48,95:49,96:49,97:49,98:50,99:50,100:50};function c(c){var d;var e=a;var f=Math.round(c);if(f<e){d=e}else if(f<=14){d=f+1}else if(f<=25){d=f}else if(f<=100){d=b[f]}else{d=50}return d}function d(a,b){var c=this.getMobileFontSize(a);return b*c}function e(){return a}return{getMobileFontSize:c,convertFontSizeToMobile:d,getMinFontSize:e}});define("siteUtils/svgShapes/svgFeatureDetection",["lodash"],function(a){"use strict";var b={isVectorEffect:false};function c(a){a.isVectorEffect="vectorEffect"in window.document.documentElement.style}if(typeof document!=="undefined"){c(b)}function d(){return a.clone(b)}return{flags:d}});define("siteUtils/core/MobileDeviceAnalyzer",["lodash"],function(a){"use strict";var b=600;var c=1280;var d={MOBILE:"smartphone",TABLET:"tablet",DESKTOP:"desktop",OTHER:"other"};var e=1e-4;function f(a,b){return Math.abs(a-b)<e}function g(a,b){return a>b+e}function h(a){switch(true){case/(GT-S5300B|GT-S5360|GT-S5367|GT-S5570I|GT-S6102B|LG-E400f|LG-E400g|LG-E405f|LG-L38C|LGL35G)/i.test(a):return{width:240,height:320};case/(Ls 670|GT-S5830|GT-S5839i|GT-S6500D|GT-S6802B|GT-S7500L|H866C|Huawei-U8665|LG-C800|LG-MS695|LG-VM696|LGL55C|M865|Prism|SCH-R720|SCH-R820|SCH-S720C|SPH-M820-BST|SPH-M930BST|U8667|X501_USA_Cricket|ZTE-Z990G)/i.test(a):return{width:320,height:480};case/(5860E|ADR6300|ADR6330VW|ADR8995|APA9292KT|C771|GT-I8160|GT-I9070|GT-I9100|HTC-A9192|myTouch4G|N860|PantechP9070|PC36100|pcdadr6350|SAMSUNG-SGH-I727|SAMSUNG-SGH-I777|SAMSUNG-SGH-I997|SC-03D|SCH-I405|SCH-I500|SCH-I510|SCH-R760|SGH-S959G|SGH-T679|SGH-T769|SGH-T959V|SGH-T989|SPH-D700)/i.test(a):return{width:480,height:800};case/(DROIDX|SonyEricssonSO-02C|SonyEricssonST25i)/i.test(a):return{width:480,height:854};case/(DROID3|MB855)/i.test(a):return{width:540,height:960};case/F-05D/i.test(a):return{width:720,height:1280};default:return null}}function i(a){var b=a.match(/applewebkit\/([\d\.]+)/i),c,d,e,f;if(b){c=b[1].split(".");d=+(c[0]||0);e=+(c[1]||0);f=+(c[2]||0);return d*1e4+e*100+f}return NaN}function j(a){this.requestModel=a}j.prototype={isMobileDevice:function(){var c=a.result(this,"requestModel.deviceTyperequestModel.deviceType.toLowerCase")===d.MOBILE;if(this.isWindowUnavailable()||this.isSSSR()){return c}var e=this.getScreenWidth();if(this.isLandscape()){e=this.getScreenHeight()}var f=e<b;var g=f&&(this.isTouchScreen()||this.isMSMobileDevice());return g},isTabletDevice:function(){if(this.isWindowUnavailable()){return!!(this.requestModel&&this.requestModel.deviceType&&this.requestModel.deviceType.toLowerCase()===d.TABLET)}var a=this.getScreenWidth();if(this.isPortrait()){a=this.getScreenHeight()}return!this.isMobileDevice()&&(a>=b&&a<=c)&&this.isTouchScreen()},getWindowScreenWidth:function(){return window.screen.width},getScreenWidth:function(){var a=this._getDeviceParamsByUserAgent();return a?a.width:NaN},getScreenHeight:function(){var a=this._getDeviceParamsByUserAgent();return a?a.height:NaN},isAppleMobileDevice:function(){return/iphone|ipod|ipad|Macintosh/i.test(this.requestModel.userAgent)},isMSMobileDevice:function(){return/iemobile/i.test(this.requestModel.userAgent)},isAndroidMobileDevice:function(){return/android/i.test(this.requestModel.userAgent)},cannotHideIframeWithinRoundedCorners:function(){return i(this.requestModel.userAgent)<537e4},isNewChromeOnAndroid:function(){if(this.isAndroidMobileDevice()){var a=this.requestModel.userAgent.toLowerCase();if(/chrome/i.test(a)){var b=a.split("chrome/");var c=b[1].split(" ")[0];var d=c.split(".")[0];var e=parseInt(d,10);if(e>=29){return true}}}return false},isTouchScreen:function(){if(this.isWindowUnavailable()){return this.isMobileDevice()||this.isTabletDevice()}return!!("ontouchstart"in window||window.DocumentTouch&&window.document instanceof DocumentTouch)},isLandscape:function(){return!this.isPortrait()},isPortrait:function(){if(this.isWindowUnavailable()){return true}var a=window.orientation;return a===0||a===180||this.isPortraitByScreenSize()},isPortraitByScreenSize:function(){if(this.isWindowUnavailable()){return true}return window.innerHeight>window.innerWidth},isAndroidOldBrowser:function(){var a=this.isNewChromeOnAndroid();var b=/opr/i.test(this.requestModel.userAgent);return this.isAndroidMobileDevice()&&!a&&!b},getDevicePixelRatio:function(){if(this.isWindowUnavailable()){return 2}if(this.isMSMobileDevice()){return Math.round(window.screen.availWidth/(window.screen.width||window.document.documentElement.clientWidth))}return window.devicePixelRatio},getInitZoom:function(){return this.getScreenWidth()/window.document.body.offsetWidth},getZoom:function(){if(this.isWindowUnavailable()){return 1}var a=this.getScreenWidth();return a/this.getWindowInnerWidth()},isZoomed:function(){if(this.isWindowUnavailable()){return false}return!f(this.getZoom(),this.getInitZoom())},isZoomedIn:function(){if(this.isWindowUnavailable()){return false}return g(this.getZoom(),this.getInitZoom())},getMobileZoomByScreenProperties:function(){if(this.isWindowUnavailable()){return 1}var a=1;var b=this.getScreenDimensions();var c=Math.max(b.width,b.height);var d=Math.min(b.width,b.height);if(this.isMobileDevice()&&!this.isPortraitByScreenSize()){a=d/c}return a},getSiteZoomRatio:function(){if(this.isWindowUnavailable()){return 1}var a=320/window.screen.width;return a},getInvertedZoomRatio:function(){if(this.isWindowUnavailable()){return 1}return 1/this.getZoom()},getOrientationZoomFixRation:function(){return this.getInitZoom()/this.getZoom()},getZoomRatioForNonOptimizedSites:function(){if(this.isWindowUnavailable()){return 1}return window.innerWidth/320},_getDeviceParamsByUserAgent:function(){if(this.isWindowUnavailable()){return null}var a=this.requestModel.userAgent.toLowerCase();var b=h(a);var c;var d;var e=this.getScreenDimensions();if(b){c=b.width;d=b.height}else if(this.isPortrait()){c=Math.min(e.width,e.height);d=Math.max(e.width,e.height)}else{c=Math.max(e.width,e.height);d=Math.min(e.width,e.height)}if(/iemobile/i.test(a)){c=e.width||window.document.documentElement.clientWidth;d=e.height||window.document.documentElement.clientHeight}return{width:c,height:d}},getScreenDimensions:function(){if(this.isWindowUnavailable()){return{width:0,height:0}}return{width:window.screen.width,height:window.screen.height}},isWindowUnavailable:function(){return typeof window==="undefined"},isSSSR:function(){return typeof window!=="undefined"&&!a.get(window,"clientSideRender",true)},getWindowInnerWidth:function(){return window.innerWidth}};return j});define("siteUtils/core/browserDetection",[],function(){"use strict";function a(a){if(!a){return{}}var b={},c={},d=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),e=a.match(/(Android);?[\s\/]+([\d.]+)?/),f=!!a.match(/\(Macintosh\; Intel /),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&a.match(/(iPhone\sOS)\s([\d_]+)/),j=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=a.match(/Windows Phone ([\d.]+)/),l=j&&a.match(/TouchPad/),m=a.match(/Kindle\/([\d.]+)/),n=a.match(/Silk\/([\d._]+)/),o=a.match(/(BlackBerry).*Version\/([\d.]+)/),p=a.match(/(BB10).*Version\/([\d.]+)/),q=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),r=a.match(/PlayBook/),s=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),t=a.match(/Firefox\/([\d.]+)/),u=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),v=!s&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),w=v||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),x=a.match(/Edge\/\d{2,}\.[\d\w]+$/);c.webkit=d&&!x;if(c.webkit){c.version=d[1]}if(e){b.android=true;b.version=e[2]}if(i&&!h){b.ios=b.iphone=true;b.version=i[2].replace(/_/g,".")}if(g){b.ios=b.ipad=true;b.version=g[2].replace(/_/g,".")}if(h){b.ios=b.ipod=true;b.version=h[3]?h[3].replace(/_/g,"."):null}if(k){b.wp=true;b.version=k[1]}if(j){b.webos=true;b.version=j[2]}if(l){b.touchpad=true}if(o){b.blackberry=true;b.version=o[2]}if(p){b.bb10=true;b.version=p[2]}if(q){b.rimtabletos=true;b.version=q[2]}if(r){c.playbook=true}if(m){b.kindle=true;b.version=m[1]}if(n){c.silk=true;c.version=n[1]}if(!n&&b.android&&a.match(/Kindle Fire/)){c.silk=true}if(s&&!x){c.chrome=true;c.version=s[1]}if(t&&!x){c.firefox=true;c.version=t[1]}if(u){c.ie=true;c.version=u[1]}if(w&&(f||b.ios)){c.safari=true;if(f){c.version=w[1]}}if(v){c.webview=true}if(x){c.edge=true}b.tablet=!!(g||r||e&&!a.match(/Mobile/)||t&&a.match(/Tablet/)||(u||x)&&!a.match(/Phone/)&&a.match(/Touch/));b.phone=!!(!b.tablet&&!b.ipod&&(e||i||j||o||p||s&&a.match(/Android/)||s&&a.match(/CriOS\/([\d.]+)/)||t&&a.match(/Mobile/)||u&&a.match(/Touch/)));b.mac=f;return{browser:c,os:b}}return a});define("siteUtils/core/linkRenderer",["lodash","wixUrlParser","coreUtils","experiment"],function(a,b,c,d){"use strict";var e="_self",f="_blank",g="https://users.wix.com/signin?",h="javascript:void()";var i={sendEmail:"sendMail",welcomeEmailTemplate:"mailTemplate",userColor:"userColor",loginCompName:"loginCompName",referralInfo:"loginCompName"};function j(a,e){var g=e.url;if(d.isOpen("sv_dpages")){var h=g==="/";g=h?a.publicBaseUrl:g}if(!c.validationUtils.isValidUrl(g)){return{}}g=b.normalizeProtocolForSameSite(a,g);return{href:g,target:e.target||f,"data-content":g,"data-type":"external"}}function k(c,d,f){var g=d.pageId;if(!g){return{}}var i=f||{pageId:g.id,title:g.pageUriSEO};var j=b.getUrl(c,i);var k={href:j,target:e};if(t(c,g.id)){a.assign(k,{href:h,"data-no-physical-url":j})}return k}function l(a,c){if(!c.routerId){return{}}var d={routerId:c.routerId,innerRoute:c.innerRoute};var f=b.getUrl(a,d);var g={href:f,target:e};if(c.anchorDataId){g["data-anchor"]=c.anchorDataId}return g}function m(a,b){return k(a,b)}function n(b,d,e){var f=d.pageId.id==="masterPage";var g=a.clone(d),h=a.has(d.anchorDataId,"id")?d.anchorDataId.id:d.anchorDataId,i=a.includes(c.siteConstants.SAME_PAGE_SCROLL_ANCHORS,h)||f,j=e.imageZoom,l=t(b,e.pageId),n;if(i){if(j||l){var o=b.pagesDataItemsMap[b.primaryPageId];n=k(b,{pageId:o})}else{n=k(b,g,e)}}else{n=m(b,g)}if(!l){n["data-keep-roots"]=true}n["data-anchor"]=h;return n}function o(a){return{href:"tel:"+a.phoneNumber,"data-content":a.phoneNumber,"data-type":"phone"}}function p(a){var b="mailto:"+(a.recipient&&a.recipient.trim()||""),c=[];if(a.subject){c.push("subject="+a.subject)}if(a.body){c.push("body="+a.body)}if(c.length>0){b+="?"+c.join("&")}return{href:b,target:e,"data-content":a.recipient,"data-type":"mail"}}function q(b,d){var e=d.docId;var g=/\.pdf$/i.test(e);var h=b.serviceTopology.staticDocsUrl;var i;if(a.includes(e,"ugd/")&&a.includes(h,"/ugd")){e=e.substr(e.indexOf("ugd")+4)}i=h+"/"+e;if(!g){i+="?"+c.urlUtils.toQueryString({dn:d.name})}return{href:i,target:f,"data-type":"document"}}function r(b,d){var f=d.postLoginUrl||"",h=d.postSignupUrl||"",j=d.dialog||"showLogin",k,l,m,n="";if(a.includes(h,"ifcontext")){m=c.urlUtils.parseUrl(h).query;a.forOwn(m,function(a,b){if(b.toLowerCase()==="ifcontext"){n=a.replace("#","");if(/^[a-zA-Z0-9]+$/.test(n)){h=h.replace("{ifcontext}",n)}else{h=h.replace("{ifcontext}","illegalContextValue")}}})}if(c.wixUserApi.isSessionValid(b.cookie)){l=f}else{if(j==="createUser"){j="sign-up"}k={originUrl:b.currentUrl.full,postLogin:f,postSignUp:h,view:j};a.forEach(i,function(b,c){var e=d[b];if(!a.isUndefined(e)&&e!==""){k[c]=e}});l=g+c.urlUtils.toQueryString(k)}return{href:l,target:e}}function s(a,b){return{href:a.currentUrl.full,target:"_self","data-mobile":b.dataMobile}}function t(a,b){var c=a.pagesDataItemsMap[b];return c&&c.isPopup}function u(a){return!!a&&a.indexOf("mailto")===0}function v(a,c){if(!c){return false}var d=b.utils.getResolvedSiteData(a);var e=!!b.parseUrl(d,c);var f=c.indexOf(d.serviceTopology.staticDocsUrl)===0;var g=c===h;return!(e||u(c)||f||g)}function w(a){return a.type==="PageLink"&&!a.pageId||a.type==="AnchorLink"&&!a.pageId||a.type==="AnchorLink"&&!a.anchorDataId||a.type==="DocumentLink"&&!a.docId||a.type==="DynamicPageLink"&&!a.routerId}function x(a){if(!a){return false}return a.charAt(0)==="/"}function y(a,b){var c=[];if(a){c.push("galleryId:"+a)}if(b){c.push("propertyQuery:"+b)}return c.join(" ")}return{renderLink:function(a,c,d){if(!a||w(a)||!d){return{}}var e=b.utils.getResolvedSiteData(c);switch(a.type){case"PageLink":return m(e,a);case"ExternalLink":return j(e,a);case"AnchorLink":return n(e,a,d);case"LoginToWixLink":return r(e,a);case"EmailLink":return p(a);case"PhoneLink":return o(a);case"DocumentLink":return q(e,a);case"SwitchMobileViewMode":return s(e,a);case"DynamicPageLink":return l(e,a);default:return{}}},renderImageZoomLink:function(f,g,i,j,k){var l;var m;if(c.nonPageItemZoom.shouldImageBeZoomedAsNonPageItem(i)){m={onClick:function(){c.nonPageItemZoom.zoom(i)}}}else{var n;if(d.isOpen("sv_dpages")){n=a.assign({pageItemId:i.id,title:i.title,imageZoom:true},g)}else{n={pageId:g.pageId,pageItemId:i.id,title:i.title,imageZoom:true}}var o=b.utils.getResolvedSiteData(f);l=b.getUrl(o,n);m={href:l,target:e};if(t(o,n.pageId)){m.href=h;m["data-no-physical-url"]=l}var p=y(j,k);if(p){m["data-page-item-context"]=p}}return m},renderPageLink:function(a,c){var d=b.utils.getResolvedSiteData(c);return m(d,{pageId:a})},isExternalLink:v,isRelativeUrl:x,isEmailLink:u,getLinkUrlFromLinkProps:function(a){return a.href===h?a["data-no-physical-url"]:a.href},CONSTS:{LOGIN_TO_WIX_URL:g}}});define("siteUtils/core/routerUtils",["lodash"],function(a){"use strict";function b(b,c){return a.some(b,function(b){return a.includes(a.values(b.pages),c)})}return{isDynamicPage:b}});define("siteUtils/core/menuUtils",["lodash","siteUtils/core/linkRenderer","coreUtils","experiment","wixUrlParser","siteUtils/core/routerUtils"],function(a,b,c,d,e,f){"use strict";function g(d,e,f,g,h){if(!d){return d}if(a.isString(d)){return{}}var i=c.objectUtils.cloneDeep(d);if(f){i.render=b.renderLink(i,h||e,g)}return i}function h(a,c,d,e,f){var g={type:"PageLink",pageId:a};if(d){g.render=b.renderLink(g,f||c,e)}return g}function i(b,c,e,h,j,k,l){return a.reduce(b,function(b,m){var n=g(m.link,c,h,j,l);if(n&&n.pageId&&d.isOpen("sv_dpages")){var o=a.isObject(n.pageId)?n.pageId.id:n.pageId;o=a.startsWith(o,"#")?o.substring(1):o;var p=n.type==="PageLink"?f.isDynamicPage(c.getRouters(),o):false;if(!k&&p){return b}}if(!e||e&&n&&n.type==="PageLink"){b.push({id:m.id,label:m.label,isVisible:m.isVisible,isVisibleMobile:m.isVisibleMobile,items:i(m.items,c,e,h,j,k,l),link:n})}return b},[])}function j(b,c,d,e,f){var g=[],i;a.forEach(b,function(a){i=c.getDataByQuery(a.refId);g.push({label:i.title,isVisible:!i.hidePage,isVisibleMobile:i.mobileHidePage!==undefined?!i.mobileHidePage:!i.hidePage,items:j(a.items,c,d,e,f),link:h(a.refId,c,d,e,f)})});return g}function k(b,c,d,f,g){var h=b.getDataByQuery("CUSTOM_MAIN_MENU");var k=b.getDataByQuery("MAIN_MENU");var l;if(!d){l=e.utils.getResolvedSiteData(b)}if(h&&(!k||a.isEmpty(k.items))){return i(h.items,b,c,!d,f,g,l)}return j(k.items,b,!d,f,l)}function l(a,b,c){return k(a,b,false,c)}function m(a,b,c){return k(a,b,true,{},c)}function n(b){return a.reduce(b,function(a,b){return a>b?a:b},-Infinity)}function o(b){return a.filter(b,function(a){return a!==0})}function p(b){return a.reduce(b,function(a,b){return a<b?a:b})}function q(b){var c=0;return a.reduce(m(b,null,false),function(a,b){if(b.isVisible){a.push(c.toString());c++}return a},[])}function r(b,c,d,e,f,g,h,i){b-=f*(h?e.length:e.length-1);b-=i.left+i.right;if(c){a.fill(e,g)}if(a.includes(e,0)){return null}var j=0;var k=a.reduce(e,function(a,b){return a+b},0);if(k>b){return null}if(c){if(d){var l=Math.floor(b/e.length);var m=a.times(e.length,a.constant(l));j=l*e.length;if(j<b){var n=Math.floor(b-j);a.forEach(e,function(a,b){if(b<=n-1){m[b]++}})}return m}return e}if(d){var o=Math.floor((b-k)/e.length);j=0;var p=a.map(e,function(a){j+=a+o;return a+o});if(j<b){var q=Math.floor(b-j);a.forEach(e,function(a,b){if(b<=q-1){p[b]++}})}return p}return e}function s(b,c,d){var e=d.getCurrentUrlPageId();var f=b.getSiteAspect("anchorChangeEvent").getActiveAnchor();if(!f){return null}var g=f.activeAnchorComp.id;var h=a(c).filter(function(b){return b.link&&a.isObject(b.link.anchorDataId)&&b.link.type==="AnchorLink"&&a.has(b.link.pageId,"id")&&b.link.pageId.id===e}).find({link:{anchorDataId:{id:g}}});return h?h.link.anchorDataId.id:null}function t(a){return a.browserFlags().highlightAnchorsInMenu}return{getDropDownWidthIfOk:r,getMaxWidth:n,getMinWidth:p,removeAllElementsWithWidthZero:o,nonHiddenPageIdsFromMainMenu:q,getSiteMenuWithRender:l,getSiteMenuWithoutRenderedLinks:m,getActiveAnchorInPage:s,shouldHighlightAnchorInPage:t}});define("siteUtils/core/seoUtils",["lodash"],function(a){"use strict";function b(a){if(a){return a.replace(/[",']/g,"").replace().replace(/\n/g," ")}}function c(c){if(c){return a(c).mapKeys(function(a,c){return b(c)}).mapValues(function(a){return b(a)}).value()}}function d(b){return a.pickBy(b,function(b){return a.isString(b)&&!a.isEmpty(b)})}function e(a){var b={};var d=c(a);b.description=d.description;b.keywords=d.keywords;if(d.noIndex==="true"){b.robots="noindex"}return b}function f(b,f,g){if(!b){return{}}var h=a.omit(b,["metaTags","title"]);var i=e(h);var j=c(b.metaTags);var k={"og:title":g,"og:url":f};return a.assign(k,d(i),d(j))}return{getSEOMetaTagsForDynamicPage:f,sanitizeHTMLInjectionFromString:b}});define("siteUtils/core/dataRefs.json",[],function(){return{Data:{BackgroundMedia:{mediaRef:false,imageOverlay:false},WixVideo:{posterImageRef:false},Document:{mainPage:false,pages:false},Header:{image:false},Image:{link:false,originalImageDataRef:false},Bgimagestrip:{originalImageDataRef:false},StripContainer:{background:false},ImageList:{items:false},LinkList:{items:false},AnchorLink:{anchorDataId:true,pageId:false},PageLink:{pageId:false},MediaRichText:{linkList:false,componentDataList:false},MenuItem:{refId:false},Page:{pageBackgrounds:{desktop:{ref:false},mobile:{ref:false}}},RichTextImage:{text:false,image:false},Service:{image:false},ServiceList:{items:false},BasicMenuItem:{link:false,items:false},CustomMenu:{items:false},Menu:{items:false},CustomMenusCollection:{menus:false},MenuDataRef:{menuRef:false},ImageButton:{link:false,defaultImage:false,hoverImage:false,activeImage:false},SubscribeForm:{link:false},ContactForm:{link:false},FlashComponent:{placeHolderImage:false},LinkableFlashComponent:{link:false,placeHolderImage:false},LinkableButton:{link:false},MenuData:{menuButton:false,pages:false},PermaLink:{dataItemRef:false,correctPermaLinkRef:false},SelectableList:{options:false},RadioGroup:{options:false},StyledText:{linkList:false},StyledTextLinkHelper:{link:false},SvgShape:{link:false},Table:{items:false,header:false,footer:false},TPAWidget:{tpaData:false},TPA:{tpaData:false},TPASection:{tpaData:false},TPAMultiSection:{tpaData:false},RssButton:{image:false,link:false},AppPage:{pageBackgrounds:{desktop:{ref:false},mobile:{ref:false}}},StripContainerSlideShowSlide:{background:false},ImageButtonWithText:{icon:false}},Design:{MediaContainerDesignData:{background:false},MediaPlayer:{background:false},BackgroundMedia:{mediaRef:false,imageOverlay:false},WixVideo:{posterImageRef:false},Image:{link:false,originalImageDataRef:false}},Properties:{ColumnProperties:{background:false}}}});define("siteUtils/customDataResolvers/imageDataResolver",["lodash"],function(a){"use strict";var b=["quality","unsharpMask"];function c(c,d){var e={};if(c.link){e.link=d(c.link)}if(c.originalImageDataRef){e.originalImageDataRef=d(c.originalImageDataRef)}var f=a.pick(d("IMAGE_QUALITY"),b);if(a.isEmpty(c.quality)&&!a.isEmpty(f)){e.quality=f}if(!a.isEmpty(e)){return a.defaults(e,c)}return c}return{resolve:c}});define("siteUtils/customDataResolvers/pageLinkDataResolver",["lodash"],function(a){"use strict";function b(b,c){return a.defaults({pageId:c(b.pageId,"masterPage")},b)}return{resolve:b}});define("siteUtils/customDataResolvers/anchorLinkDataResolver",["lodash"],function(a){"use strict";function b(b,c){var d=a.startsWith(b.pageId,"#")?b.pageId.replace("#",""):b.pageId;var e=c(b.anchorDataId,d);var f=c(b.pageId,"masterPage");var g=a.pickBy({anchorDataId:e,pageId:f});return a.defaults(g,b)}return{resolve:b}});define("siteUtils/customDataResolvers/connectionListDataResolver",["lodash"],function(a){"use strict";function b(b){var c=a.map(a.get(b,"items"),function(b){if(!a.has(b,"config")){return b}return a.assign({},b,{config:JSON.parse(b.config)})});return a.assign({},b,{items:c})}return{resolve:b}});define("siteUtils/customDataResolvers/appControllerDataResolver",["lodash"],function(a){"use strict";function b(b){if(!a.has(b,"settings")){return b}return a.assign({},b,{settings:JSON.parse(b.settings)})}return{resolve:b}});define("siteUtils/customDataResolvers/behaviorsListDataResolver",["lodash"],function(a){"use strict";function b(b){var c=a.get(b,"items");if(a.isString(c)){return a.assign({},b,{items:JSON.parse(c)})}return b}return{resolve:b}});define("siteUtils/customDataResolvers/customDataResolvers",["lodash","siteUtils/customDataResolvers/imageDataResolver","siteUtils/customDataResolvers/pageLinkDataResolver","siteUtils/customDataResolvers/anchorLinkDataResolver","siteUtils/customDataResolvers/connectionListDataResolver","siteUtils/customDataResolvers/appControllerDataResolver","siteUtils/customDataResolvers/behaviorsListDataResolver"],function(a,b,c,d,e,f,g){"use strict";return{Image:b,PageLink:c,AnchorLink:d,ConnectionList:e,AppController:f,ObsoleteBehaviorsList:g}});define("siteUtils/core/dataResolver",["lodash","siteUtils/core/dataRefs.json","siteUtils/customDataResolvers/customDataResolvers"],function(a,b,c){"use strict";a.set(b.Data,"Page.pageBackgrounds.desktop.ref",true);a.set(b.Data,"Page.pageBackgrounds.mobile.ref",true);var d={component_properties:"Properties",document_data:"Data",design_data:"Design"};var e=["masterPage"];function f(b,d,f,g,h){var j=a.get(c,[b.type,"resolve"]);var k=this;function l(a,b){b=b||d;var c=b==="masterPage"?f:e;return i.call(k,g,f,c,b,h,a)}return j(b,l)}function g(c,e,f,h,i){if(typeof c!=="object"||c===null){return{id:null,data:c}}var j=b[d[e]];var k=a.isUndefined(i)||a.isBoolean(i);var l=i;if(k){if(a.isArray(c)){return a.map(c,function(a){return g(a,e,f,h,i)})}if(!c.type){throw new Error("we need a type to resolve a data item",c)}l=a.get(j,c.type,{})}var m={};function n(a){return a.id===null?a.data:"#"+a.id}a.forOwn(l,function(b,d){if(a.isUndefined(c[d])){return}var i=g(c[d],e,f,h,b);m[d]=a.isArray(i)?a.map(i,n):n(i)});var o=!a.isEmpty(m)?a.defaults(m,c):c;var p=null;if(k){if(!o.id){var q=a.isFunction(f)?f():a.uniqueId("resolver_");o=a.defaults({id:q},o)}p=o.id;h[p]=o}return{id:p,data:o}}function h(a){return!a||a===true}function i(e,g,j,k,l,m,n){var o=b[d[l]];var p=null;if(a.isUndefined(m)){return null}if(a.isPlainObject(m)){if(a.has(c,m.type)){p=f.call(this,m,k,g,e,l)}else{n=h(n)?a.get(o,m.type,{}):n;p=a.mapValues(n,function(a,b){var c=i.call(this,e,g,j,k,l,m[b],a);return!c&&a===true?m[b]:c}.bind(this))}return a.defaults(p,m)}if(a.isArray(m)){return a.map(m,function(a){return i.call(this,e,g,j,k,l,a)}.bind(this))}if(a.startsWith(m,"#")){m=m.slice(1)}var q=k;p=a.get(e,[k,"data",l,m]);if(!p){a.forEach(j,function(b){p=a.get(e,[b,"data",l,m]);return!p});if(!p){return null}}var r=this.readingFromCache&&a.get(this.cache,[q,l,m]);if(r){return r}if(a.has(c,p.type)){p=f.call(this,p,k,g,e,l)}else{n=h(n)?a.get(o,p.type):n;if(h(n)){return p}p=a.assign({},p);a.forEach(n,function(b,c){if(!a.has(p,c)){return}var d=i.call(this,e,g,j,k,l,p[c],b);if(d||!b){p[c]=d}}.bind(this))}a.set(this.cache,[q,l,m],p);return p}function j(b,c,d,e,f){if(!a.has(b,[d,"data"])){return{}}var g=d==="masterPage"?c:["masterPage"];return i.call(this,b,c,g,d,e,f,null)}function k(){this.cache={};this.readingFromCache=true}k.prototype={getDataByQuery:j,clearCache:function(){this.cache={}},removeItemsFromCache:function(b,c,d){a.forEach(d,function(d){a.set(this.cache,[b,c,d]);a.set(this.cache,["masterPage",c,d])}.bind(this))},setReadingFromCache:function(a){this.readingFromCache=Boolean(a)},getFlatMapOfNestedItem:function(a,b,c){var d={};g(a,b,c,d);return d}};return k});define("siteUtils/core/pagesUrlUtils",["lodash","coreUtils","experiment"],function(a,b,c){"use strict";function d(c){if(a.has(c,["publicModel","pageList"])){return a(c.publicModel.pageList.pages).keyBy(function d(e){return a.get(c,["urlFormatModel","pageIdToResolvedUriSEO",e.pageId,"curr"])||a.get(e,"pageUriSEO")||b.siteConstants.DEFAULT_PAGE_URI_SEO}).mapValues("pageId").value()}return{}}function e(b){return a.zipObject(b,a.times(b.length,a.constant(true)))}function f(a){var d=a.urlFormatModel||{};if(c.isOpen("urlFormat")){d.format=b.siteConstants.URL_FORMATS.SLASH}else{d.format=d.format||b.siteConstants.URL_FORMATS.HASH_BANG}d.forbiddenPageUriSEOs=e(d.forbiddenPageUriSEOs||[]);d.pageIdToResolvedUriSEO=d.pageIdToResolvedUriSEO||{};a.urlFormatModel=d}function g(b,c){return a.map(b.topology,function(a){return a.baseUrl+a.parts.replace("{filename}",c)})}function h(b,c){var d=a.find(b.pages,{pageId:c});if(d){return g(b,d.pageJsonFileName)}}function i(a){return g(a,a.masterPageJsonFileName)}return{ensureUrlFormatModel:f,getMapFromPageUriSeoToPageId:d,getPageURLs:h,getMasterPageURLs:i}});define("siteUtils/core/constants",[],function(){"use strict";return{VIEW_MODES:{DESKTOP:"DESKTOP",MOBILE:"MOBILE"},DATA_TYPES:{data:"data",prop:"props",design:"design",theme:"style",behaviors:"behaviors",connections:"connections"},COMP_DATA_QUERY_KEYS:{data:"dataQuery",props:"propertyQuery",design:"designQuery",behaviors:"behaviorQuery",connections:"connectionQuery"},PAGE_DATA_DATA_TYPES:{props:"component_properties",data:"document_data",design:"design_data",behaviors:"behaviors_data",connections:"connections_data",style:"theme_data"},ACTION_TYPES:{CLICK:"click",DBL_CLICK:"dblclick",MOUSE_IN:"mouseenter",MOUSE_OUT:"mouseleave",CHANGE:"change",BLUR:"blur",FOCUS:"focus",IMAGE_CHANGED:"imageChanged",IMAGE_EXPANDED:"imageExpanded",ITEM_CLICKED:"itemClicked",CELL_SELECT:"cellSelect",CELL_EDIT:"cellEdit",ROW_SELECT:"rowSelect",FETCH_DATA:"fetchData",AUTOPLAY_OFF:"autoplayOff",AUTOPLAY_ON:"autoplayOn",KEY_PRESS:"keyPress",SCREEN_IN:"screenIn",VIEWPORT_ENTER:"viewportEnter",VIEWPORT_LEAVE:"viewportLeave",SCROLL:"scroll",VALIDATE:"validate",SET_CUSTOM_VALIDITY:"setCustomValidity",MESSAGE:"message",UPLOAD_COMPLETE:"uploadComplete"},BASE_PROPS_SCHEMA_TYPE:"DefaultProperties",COMP_IDS:{PAGE_GROUP:"SITE_PAGES",PAGES_CONTAINER:"PAGES_CONTAINER",HEADER:"SITE_HEADER",FOOTER:"SITE_FOOTER",BACKGROUND:"SITE_BACKGROUND"},POPUP:{POPUP_OVERLAY_CONTAINER:{STYLE_ID:"strc1",SKINPART_ID:"popupOverlayContainer",COMPONENT_TYPE:"wysiwyg.viewer.components.StripContainer",SKIN:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",TYPE:"StripContainer"},POPUP_CONTAINER:{COMPONENT_TYPE:"wysiwyg.viewer.components.PopupContainer"}},ACTIVE_ANCHOR:{DELAY_TO_END_SCROLL:50},CURRENT_CONTEXT:"CURRENT_CONTEXT",ANCHORS:{LOCK_THRESHOLD:70,LOCK_CONDITION:{ALWAYS:"always",NEVER:"never",THRESHOLD:"threshold"}}}});define("siteUtils/core/browserFlags",[],function(){"use strict";return{create:function(a){var b=a.os;var c=a.browser;return{highlightAnchorsInMenu:!(b.ipad&&c.chrome),fixedSiteBackground:!b.tablet&&!b.phone||b.ipad&&c.safari||(c.ie||c.edge)&&b.tablet,animateRevealScrubAction:!!(c.ie||c.edge||c.firefox),animateParallaxScrubAction:!!c.edge,animateTinyMenuIcon:!(c.safari&&b.mac),preserve3DParallaxScrubAction:!(c.safari&&c.version>=9||c.firefox),fixedBackgroundColorBalata:!!c.chrome,forceOverflowScroll:!!b.iphone,shouldDisableSmoothScrolling:!!(c.chrome||c.edge)}}}});define("siteUtils/core/ViewPortImageLoader",["lodash","bluebird","loggingUtils","experiment"],function(a,b,c,d){"use strict";var e="image";var f=250;function g(b,c,d,e,g,h){var i=!h&&g;if(!a.has(c,e)||i){j(b,d,e,h,g);a.set(c,e,a.debounce(j,f,{trailing:true}))}else{c[e](b,d,e,h,g)}}function h(a,b,c,d){var e=c+d;var f=b?b:0;var g=f+a.height;return c>f&&c<g||e>f&&e<g}function i(a,b,c,d,f){a.events(b+e,{onload:d,onerror:f});a.attr(b+e,{src:c})}function j(c,d,e,f,g){if(g&&g!==f){var h=new b(a.partial(i,d,e,g));c[e]=a.assign(c[e],{promise:h})}}function k(a,b){return Math.max(Math.floor(a/b),0)}function l(b,c,d,e,f,g,h){b[d]=a.assign({oldSrc:h,viewPortIndex:k(e,f),src:g,id:d,patchers:c},b[d],{})}function m(b){a(b).pickBy(function(a){return a.viewPortIndex>0}).map(function(a){return j(b,a.patchers,a.id,a.oldSrc,a.src)}).value()}function n(a,b){this.getScreenSize=a;this.imageResizeHandlers={};this.imagesToLoad={};this.scrollTop=b}n.prototype={loadImage:function(a){var b=this.getScreenSize();var c=a.patchers,e=a.id,f=a.src,i=a.absoluteTop,j=a.height,k=a.currentSrc;l(this.imagesToLoad,c,e,i,b.height,f,k);if(!d.isOpen("viewPortImageLoading")||h(b,this.scrollTop,i,j)){g(this.imagesToLoad,this.imageResizeHandlers,c,e,f,k)}},removeImage:function(a){delete this.imagesToLoad[a]},loadAllImages:function(e){if(d.isOpen("viewPortImageLoading")){var f=a(this.imagesToLoad).filter({viewPortIndex:0}).filter(function(b){return a.has(b,"promise")}).value();if(d.isMultiValueExperimentOpen("viewPortImageLoadingBi")){c.imagesBi(e,f)}f=a.map(f,function(a){return a.promise.reflect()});return b.all(f).then(a.partial(m,this.imagesToLoad))}}};return n});define("siteUtils/core/SiteData",["lodash","coreUtils","siteUtils/core/MobileDeviceAnalyzer","siteUtils/core/menuUtils","siteUtils/core/routerUtils","siteUtils/core/seoUtils","siteUtils/core/browserDetection","wixUrlParser","siteUtils/core/dataResolver","siteUtils/core/pagesUrlUtils","siteUtils/core/constants","siteUtils/core/browserFlags","siteUtils/core/ViewPortImageLoader","experiment"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";var o="masterPage";function p(b){return a.get(this,["publicModel","sessionInfo",b])}function q(b,c){if(this.publicModel){a.set(this.publicModel,["sessionInfo",b],c)}}function r(b,c,d){if(!d){return}if(!a.find(b,{property:c})){b.push({property:c,content:d})}}function s(d){if(!d){return}j.ensureUrlFormatModel(d);this.currentUrl={};this._currentRootInfos={};this._currentPageIds={primaryPage:null,popupPage:null};this.customUrlMapping={};a.assign(this,d);this.siteId=this.siteId||this.rendererModel&&this.rendererModel.siteInfo.siteId;var e=this.requestModel&&this.requestModel.userAgent;var f=g(e);var h=a.assign({},this.requestModel,d.publicModel&&d.publicModel.deviceInfo);this._isMobileView=d.forceMobileView;this._isTabletDevice=undefined;this.pagesData=this.pagesData||{};this.routers=this.routers;this.anchorsMap={};this.editorData={generated:{},generatedVersion:{}};this.textRuntimeLayout={overallBorders:{}};this.mapFromPageUriSeoToPageId=j.getMapFromPageUriSeoToPageId(d);this.dockedRuntimeLayout={};this.deletedPagesMap={};this.dataResolver=new i;this.orphanPermanentDataNodes=[];this.mobile=new c(h);this.imageLoader=new m(this.getScreenSize.bind(this));this.browser=f.browser;this.os=f.os;this.wixBiSession=d.wixBiSession||{};this.svgShapes=d.svgShapes||{};this.activeModes={};this.prefetchPages=[];if(n.isOpen("sv_dpages")){this.dynamicPages={routersRendererIndex:0,headData:{},data:{},currMetaTags:{}}}this.reLayoutedCompsMap={};this.saveInvalidationCount=0;this.renderFlags=this.renderFlags||{};a.defaults(this.renderFlags,{isPlayingAllowed:true,isZoomAllowed:true,isSocialInteractionAllowed:true,siteTransformScale:1,isExternalNavigationAllowed:true,isBackToTopButtonAllowed:true,isWixAdsAllowed:true,isSlideShowGalleryClickAllowed:true,isTinyMenuOpenAllowed:true,renderFixedPositionContainers:true,isPageProtectionEnabled:this.isViewerMode(),isSiteMembersDialogsOpenAllowed:true,allowSiteOverflow:true,shouldResetGalleryToOriginalState:false,shouldResetComponent:true,extraSiteHeight:0,siteScale:1,shouldUpdateJsonFromMeasureMap:true,
componentViewMode:"preview",allowShowingFixedComponents:true,componentPreviewStates:{},renderMobileActionMenu:!b.urlUtils.isQueryParamOn(this.currentUrl,"hideMobileActionBar"),initWixCode:this.isViewerMode()});this.failedRequests=[];this.renderRealtimeConfig={};this._svQueue=[];this.compStates={};this.widgetsStore={};this.imageCssCache={};this.mediaStore={};this.mediaQualityStore={};this.pageIdToOgTags={};this.pageIdToJsonLd={};this.onImageUnmount=this.onImageUnmount.bind(this);this.getMediaFullStaticUrl=this.getMediaFullStaticUrl.bind(this);this.nonObservableUpdateIndex=0;this.siteAspectsData={};a.bindAll(this,["setStore","setRootNavigationInfo","addPrefetchPages","getPrefetchPages","getExistingRootNavigationInfo","getExistingRootNavigationInfoWithTransitionInfo","getPrimaryPageId","getCurrentUrlPageId","getFocusedRootId","getSliderGalleryMeasures","getAllPossiblyRenderedRoots","getRenderedRootsUnderMasterPage","getDataForCopy","isMobileView","isMobileDevice","browserFlags","forceLandingPage","isTabletDevice","isTouchDevice","setMobileView","getAllTheme","getGeneralTheme","getFontsMap","getFont","getColor","getColorsMap","getMasterPageData","getPageData","getServiceTopologyProperty","getStaticMediaUrl","getStaticHTMLComponentUrl","getStaticVideoUrl","getStaticVideoHeadRequestUrl","getMetaSiteId","getMediaFullStaticUrl","getStaticThemeUrlWeb","isPremiumDomain","isPremiumUser","isAdFreePremiumUser","getClientSpecMap","getClientSpecMapEntry","getClientSpecMapEntriesByType","getClientSpecMapEntryByAppDefinitionId","getSMToken","getSvSession","getCTToken","setCTToken","subSvSession","pubSvSession","getUserId","getSiteMetaData","getSiteMediaToken","getSiteStructure","getLanguageCode","isPageLandingPage","getStructureCompId","getBodyClientWidth","getBodyClientHeight","getScreenWidth","getScreenHeight","getScreenSize","updateScreenSize","getSiteX","getSiteWidth","isFacebookSite","clearCache","onImageUnmount","getDataByQuery","isRootIgnoreBottomBottom","resolveData","findDataOnMasterPageByPredicate","getPageMinHeight","getDynamicPageTitle","getCurrentUrlPageTitle","isHomePage","getPagesDataItems","isDebugMode","hasDebugQueryParam","getFavicon","getDocumentLocation","getExternalBaseUrl","getUnicodeExternalBaseUrl","getMainPageId","getAllPageIds","getPageTitle","getCurrDynamicPageMetaTags","resetCurrDynamicPageMetaTags","getDynamicPageSEOMetaData","getPageSEOMetaData","getPageOgTags","setPageOgTags","getPageJsonld","setJsonLd","getBrowser","getOs","getHubSecurityToken","setHubSecurityToken","getPageUsedFonts","setPageUsedFonts","getPremiumFeatures","isViewerMode","isTemplate","shouldShowWixAds","getMobileWixAdsHeight","getPageBottomMargin","isWixSite","isUsingUrlFormat","getUrlFormat","isImageZoom","getPageUrl","getCurrentUrl","getMainPageUrl","getMainPagePath","getForbiddenPageUriSEOs","getPageIdFromPageUriSeo","getGlobalImageQuality","getCurrentPopupId","getRootNavigationInfo","isPopupPage","isDynamicPage","isPopupOpened","getViewMode","isFeedbackEndpoint","isSiteHistoryEndpoint","getPublicBaseUrl","getRoutersDataForRmi","getPagesDataForRmi","getPopupsDataForRmi","setCustomUrlMapping","addDynamicPageData","getDynamicPageData","addDynamicPageHeadData","getDynamicPageHeadData","getRouters","isPlatformAppOnPage","isQaMode","getScrollBarWidth"])}s.prototype={setStore:function(a){this.store=a;if(this.dataResolver){this.store.registerDataLoadedCallback(this.dataResolver.clearCache.bind(this.dataResolver))}},dataTypes:{PROPERTIES:"component_properties",DATA:"document_data",THEME:"theme_data",DESIGN:"design_data",BEHAVIORS:"behaviors_data",CONNECTIONS:"connections_data"},WIX_ADS_ID:"WIX_ADS",MASTER_PAGE_ID:o,setRootNavigationInfo:function(a,b){var c=a.pageId;var d=c!==this._currentPageIds.primaryPage&&c!==this._currentPageIds.popupPage;var e=this.isPopupPage(c);if(b){if(!e){this._currentPageIds.primaryPage=null}this._currentPageIds.popupPage=null}this._currentRootInfos[c]=a;if(n.isOpen("sv_dpages")&&this.isDynamicPage(c)){this._currentRootInfos[c].routersRendererIndex=a.pageAdditionalData+this.dynamicPages.routersRendererIndex;this.dynamicPages.routersRendererIndex++}if(!e){this._currentRootInfos[o]=a;this._currentPageIds.primaryPage=a.pageId}else{this._currentPageIds.popupPage=a.pageId}if(d){this.dataResolver.clearCache()}},addPrefetchPages:function(b){this.prefetchPages=a.union(this.prefetchPages,b)},getPrefetchPages:function(){return this.prefetchPages},getExistingRootNavigationInfo:function(b){return this._currentRootInfos[b]?a.omit(this._currentRootInfos[b],"transition"):undefined},getExistingRootNavigationInfoWithTransitionInfo:function(a){return this._currentRootInfos[a]},getPrimaryPageId:function(){return this._currentPageIds.primaryPage},getCurrentUrlPageId:function(){return this.getPrimaryPageId()},getFocusedRootId:function(){return this._currentPageIds.popupPage||this._currentPageIds.primaryPage},getSliderGalleryMeasures:function(a){if(!this.measureMap||!a){return{}}return{imagesWidth:this.measureMap.width[a+"images"],itemsContainerWidth:this.measureMap.width[a+"itemsContainer"]}},getAllPossiblyRenderedRoots:function(){var a=[this.MASTER_PAGE_ID,this.getPrimaryPageId()];if(this.isPopupOpened()){a.push(this.getCurrentPopupId())}return a},getRenderedRootsUnderMasterPage:function(){return a.reject(this.getAllPossiblyRenderedRoots(),this.isPopupPage.bind(this))},getDataForCopy:function(){var b=a.clone(this);delete b.store;return b},isMobileView:function(){if(a.isUndefined(this._isMobileView)&&this.getMasterPageData()){if(b.dataUtils.isMobileStructureExist(this.getMasterPageData())){var c=a(this.currentUrl.query).keys().find(function(a){return a.toLowerCase()==="showmobileview"});if(c){this._isMobileView=this.currentUrl.query[c]==="true"}else{this._isMobileView=this.mobile.isMobileDevice()&&(this.rendererModel.siteMetaData&&this.rendererModel.siteMetaData.adaptiveMobileOn)}}else{this._isMobileView=false}}return this._isMobileView},isMobileDevice:function(){if(a.isUndefined(this._isMobileDevice)){this._isMobileDevice=this.mobile.isMobileDevice()}return this._isMobileDevice},browserFlags:function(){if(!this._browserFlags){this._browserFlags=l.create(a.pick(this,["os","browser"]))}return this._browserFlags},forceLandingPage:function(a){return a.query&&a.query.forceLandingPage},isTabletDevice:function(){if(a.isUndefined(this._isTabletDevice)){this._isTabletDevice=this.os&&this.os.tablet&&!this.browser.ie||this.mobile.isTabletDevice()}return this._isTabletDevice},isTouchDevice:function(){return this.isTabletDevice()||this.isMobileDevice()},setMobileView:function(a){this._isMobileView=a},getAllTheme:function(){return this.getMasterPageData().data.theme_data},getGeneralTheme:function(){return this.getMasterPageData().data.theme_data.THEME_DATA},getFontsMap:function(){return this.getGeneralTheme().font},getFont:function(a){var b=a.split("_")[1];return this.getGeneralTheme().font[b]},getColor:function(a){var b=a.split("_")[1];return this.getGeneralTheme().color[b]||a},getColorsMap:function(){return this.getGeneralTheme().color},getMasterPageData:function(){return this.pagesData.masterPage},getPageData:function(a){return this.pagesData[a]},getServiceTopologyProperty:function(a){return this.serviceTopology[a]},getStaticMediaUrl:function(){return this.serviceTopology.staticMediaUrl},getStaticHTMLComponentUrl:function(){return this.serviceTopology.staticHTMLComponentUrl},getStaticVideoUrl:function(){return this.serviceTopology.staticVideoUrl},getStaticVideoHeadRequestUrl:function(){return this.serviceTopology.staticVideoHeadRequestUrl},getMetaSiteId:function(){return this.rendererModel.metaSiteId},getMediaFullStaticUrl:function(a){return b.urlUtils.getMediaUrlByContext(a,this.getStaticMediaUrl(),this.serviceTopology.mediaRootUrl)},getStaticThemeUrlWeb:function(){var a=this.serviceTopology.scriptsLocationMap;return a&&a.skins&&a.skins+"/images/wysiwyg/core/themes"},isPremiumDomain:function(){return a.includes(this.rendererModel.premiumFeatures,"HasDomain")},isPremiumUser:function(){return!a.isEmpty(this.rendererModel.premiumFeatures)},isAdFreePremiumUser:function(){return a.includes(this.rendererModel.premiumFeatures||[],"AdsFree")},getClientSpecMap:function(){return this.rendererModel.clientSpecMap},getClientSpecMapEntry:function(a){return this.rendererModel.clientSpecMap[a]},getClientSpecMapEntriesByType:function(b){return a.filter(this.rendererModel.clientSpecMap,{type:b})},getClientSpecMapEntryByAppDefinitionId:function(b){return a.find(this.rendererModel.clientSpecMap,{appDefinitionId:b})},getSMToken:function(){var a=this.getClientSpecMapEntriesByType("sitemembers")[0]||{};return a.smtoken},getSvSession:function(){return p.call(this,"svSession")},getCTToken:function(){return p.call(this,"ctToken")},setCTToken:function(a){q.call(this,"ctToken",a)},subSvSession:function(a,b){var c=this.getSvSession();if(c||b){a(c)}else{this._svQueue.push(a)}},pubSvSession:function(a){q.call(this,"svSession",a);this._svQueue.forEach(function(b){b(a)});this._svQueue.length=0},getUserId:function(){return this.siteHeader.userId},getSiteMetaData:function(){return this.rendererModel.siteMetaData},getSiteMediaToken:function(){return"APP "+this.rendererModel.siteMediaToken},getSiteStructure:function(){return this.getDataByQuery(this.getStructureCompId())},getLanguageCode:function(){return this.rendererModel.languageCode},isPageLandingPage:function(a){var b=this.getDataByQuery(a)||{};if(this.forceLandingPage(this.currentUrl)){return true}return b.isLandingPage||this.isMobileView()&&b.isMobileLandingPage},getStructureCompId:function(){return"masterPage"},getBodyClientWidth:function(){return window.document.body.clientWidth},getBodyClientHeight:function(){return window.document.body.clientHeight},getScreenWidth:function(){if(!this.screenSize){this.updateScreenSize()}return this.screenSize.width},getScreenHeight:function(){if(!this.screenSize){this.updateScreenSize()}return this.screenSize.height},getScreenSize:function(){if(!this.screenSize){this.updateScreenSize()}return this.screenSize},updateScreenSize:function(a){this.screenSize=a||{width:this.isMobileView()?320:this.getBodyClientWidth(),height:this.getBodyClientHeight()}},getScrollBarWidth:function(){if(typeof window==="undefined"){return 0}if(this.browser.firefox){return 0}if(this.measureMap){return a.get(this.measureMap,"innerWidth.screen")-a.get(this.measureMap,"clientWidth")}var b=this.isMobileView()?320:window.innerWidth;return b-this.getScreenWidth()},getSiteX:function(){if(this.isMobileView()||this.isMobileDevice()){return 0}return Math.min(parseInt(Math.floor((this.getSiteWidth()-this.getScreenWidth())/2),10),0)},getSiteWidth:function(){if(this.isMobileView()){return 320}else if(this.isFacebookSite()){return 520}var b=this.getSiteStructure();return a.get(b,"renderModifiers.siteWidth",980)},isFacebookSite:function(){return this.rendererModel.siteInfo.applicationType==="HtmlFacebook"},clearCache:function(){this.dataResolver.clearCache()},onImageUnmount:function(a){if(this.imageCssCache){delete this.imageCssCache[a]}this.imageLoader.removeImage(a)},getDataByQuery:function(a,b,c){b=b||"masterPage";c=c||this.dataTypes.DATA;var d=[this.getPrimaryPageId()];if(this.isPopupOpened()){d.push(this.getCurrentPopupId())}return this.dataResolver.getDataByQuery(this.pagesData,d,b,c,a)},isRootIgnoreBottomBottom:function(b){return b&&a.get(this.pagesData,["masterPage","data","document_data",b,"ignoreBottomBottomAnchors"])},resolveData:function(a,b,c){return this.getDataByQuery(a,b,c)},findDataOnMasterPageByPredicate:function(b){return a.find(this.getMasterPageData().data.document_data,b)},getPageMinHeight:function(){return this.isMobileView()?200:500},getDynamicPageTitle:function(b){if(!n.isOpen("sv_dpages")){return}var c=a.get(this.dynamicPages.headData,[b,"title"]);return f.sanitizeHTMLInjectionFromString(c)},getCurrentUrlPageTitle:function(){var a=this.rendererModel.siteInfo.siteTitleSEO||"";var b=this.getCurrentUrlPageId();var c=this.getDataByQuery(b);var d=c.title||"";var e=c.pageTitleSEO||"";var f=this.isHomePage(b);var g=this.getDynamicPageTitle(b);if(g){a=g}else if(e){a=e}else if(!f){a=a+" | "+d}return a},isHomePage:function(a){return a&&a===this.getMainPageId()},getPagesDataItems:function(){var b=this.getAllPageIds();var c=a.map(b,function(a){return this.getDataByQuery(a)}.bind(this));return c},isDebugMode:function(){return a.get(this,["currentUrl","query","debug"])==="all"},hasDebugQueryParam:function(){return a.has(this,["currentUrl","query","debug"])},getFavicon:function(){return this.publicModel&&this.publicModel.favicon},getDocumentLocation:function(){return window.document.location},getExternalBaseUrl:function(){var a=this;this.getExternalBaseUrl=this.isViewerMode()?function(){return this.publicModel.externalBaseUrl}:function(){var c=this.isSiteHistoryEndpoint()?8:7;var d=b.urlUtils.getBaseUrlWithPath(a.getDocumentLocation(),c);return function(){return d}}.bind(this)();return this.getExternalBaseUrl()},getUnicodeExternalBaseUrl:function(){return this.publicModel&&this.publicModel.unicodeExternalBaseUrl},getMainPageId:function(){if(this.publicModel){return this.publicModel.pageList.mainPageId}var a=this.getDataByQuery("masterPage","masterPage");return a.mainPage.id||a.mainPageId||"mainPage"},getAllPageIds:function(){if(this.publicModel){return a.map(this.publicModel.pageList.pages,"pageId")}return a.keys(a.omit(this.pagesData,["masterPage"]))},getPageTitle:function(b){if(this.publicModel){var c=a.get(this.publicModel,["pageList","pages"]);return a.get(a.find(c,{pageId:b}),"title")}return a.get(this.getDataByQuery(b),"title")},getCurrDynamicPageMetaTags:function(){return this.dynamicPages&&this.dynamicPages.currMetaTags},resetCurrDynamicPageMetaTags:function(){if(this.dynamicPages){this.dynamicPages.currMetaTags={}}},getDynamicPageSEOMetaData:function(a){var b=this.getDynamicPageHeadData(a);var c=f.getSEOMetaTagsForDynamicPage(b,this.getCurrentUrl(),this.getCurrentUrlPageTitle());this.dynamicPages.currMetaTags=c;return c},getPageSEOMetaData:function(b){var c={};var d=this.getDataByQuery(b);if(d){c.description=d.descriptionSEO;c.keywords=d.metaKeywordsSEO;if(n.isOpen("sv_addRobotsIndexingMetaTag")){var e=a.get(d,"indexable",true);c.robotIndex=e?"index":"noindex"}c.ogTags=this.getPageOgTags(b,d)}return c},getPageOgTags:function(b,c){if(a.isUndefined(this.pageIdToOgTags[b])){this.pageIdToOgTags[b]=[]}var d=a.cloneDeep(this.pageIdToOgTags[b]);r(d,"og:title",this.getCurrentUrlPageTitle());r(d,"og:url",this.getCurrentUrl());r(d,"og:description",a.get(c,"descriptionSEO"));return d},setPageOgTags:function(a,b){this.pageIdToOgTags[a]=b},getPageJsonld:function(a){return this.pageIdToJsonLd[a]||{}},setJsonLd:function(a,b){this.pageIdToJsonLd[a]=b},getBrowser:function(){return this.browser},getOs:function(){return this.os},getHubSecurityToken:function(){return p.call(this,"hs")||"NO_HS"},setHubSecurityToken:function(a){q.call(this,"hs",a)},getPageUsedFonts:function(a){var b=this.getDataByQuery(a);return b.usedFonts},setPageUsedFonts:function(a,b){var c=this.getDataByQuery(a);c.usedFonts=b},getPremiumFeatures:function(){return this.rendererModel.premiumFeatures},isViewerMode:function(){return!a.isUndefined(this.publicModel)},isTemplate:function(){return this.rendererModel.siteInfo.documentType==="Template"},shouldShowWixAds:function(){var b=this.rendererModel.siteInfo.documentType;var c=b==="Template"&&!this.rendererModel.previewMode;var d=a.includes(this.rendererModel.premiumFeatures,"NoAdsInSocialSites");return this.renderFlags.isWixAdsAllowed&&!this.isAdFreePremiumUser()&&b!=="WixSite"&&!c&&(!this.isFacebookSite()||!d)},getMobileWixAdsHeight:function(){if(this.isMobileView()&&this.shouldShowWixAds()){return 30}return 0},getPageBottomMargin:function(){return this.isMobileView()||!this.shouldShowWixAds()?0:40},isWixSite:function(){return this.rendererModel.siteInfo.documentType==="WixSite"},isUsingUrlFormat:function(a){return this.getUrlFormat()===a},getUrlFormat:function(){if(this.urlFormatModel&&this.urlFormatModel.format){return this.urlFormatModel.format}return b.siteConstants.URL_FORMATS.HASH_BANG},isImageZoom:function(a){return a.imageZoom},getPageUrl:function(c,d,e,f,g){var i=this.isUsingUrlFormat(b.siteConstants.URL_FORMATS.HASH_BANG)?b.siteConstants.URL_FORMATS.HASH_BANG:d;return h.getUrl(this,a.assign({},c,{format:i}),false,a.isUndefined(f)?true:f,e,g)},getCurrentUrl:function(a,b,c){var d=this.getExistingRootNavigationInfo(this.getCurrentUrlPageId());return this.getPageUrl(d,a,b,undefined,c?this.customUrlMapping:undefined)},getMainPageUrl:function(a,b){return this.getPageUrl({pageId:this.getMainPageId()},a,b)},getMainPagePath:function(){var a=this.getMainPageUrl(this.getUrlFormat());var b=this.currentUrl.protocol+"//"+this.currentUrl.host;return a.replace(b,"")},getForbiddenPageUriSEOs:function(){if(this.urlFormatModel&&this.urlFormatModel.forbiddenPageUriSEOs){return this.urlFormatModel.forbiddenPageUriSEOs}return{}},getPageIdFromPageUriSeo:function(b){return a.get(this.mapFromPageUriSeoToPageId,b)},getGlobalImageQuality:function(){return a.pick(this.getDataByQuery(b.siteConstants.GLOBAL_IMAGE_QUALITY),b.siteConstants.GLOBAL_IMAGE_QUALITY_PROPERTIES)},getCurrentPopupId:function(){return this._currentPageIds.popupPage},getRootNavigationInfo:function(){var a=this.getPrimaryPageId();return this.getExistingRootNavigationInfo(a)},isPopupPage:function(a){if(a==="masterPage"){return false}var b=this.getDataByQuery(a);return Boolean(b&&b.isPopup)},isDynamicPage:function(a){return e.isDynamicPage(this.getRouters(),a)},isPopupOpened:function(){return Boolean(this.getCurrentPopupId())},getViewMode:function(){return this.isMobileView()?k.VIEW_MODES.MOBILE:k.VIEW_MODES.DESKTOP},isFeedbackEndpoint:function(){return!this.isViewerMode()&&a.startsWith(this.currentUrl.path,"/html/editor/review")},isSiteHistoryEndpoint:function(){return!this.isViewerMode()&&a.startsWith(this.currentUrl.path,"/html/editor/web/renderer/revisions/view")},getPublicBaseUrl:function(){var a=!!this.documentServicesModel;var b=a?this.documentServicesModel.isPublished:true;if(a){return b?this.documentServicesModel.publicUrl:""}return this.getExternalBaseUrl()},getRoutersDataForRmi:function(){var b=this.routers?this.routers.configMap:{};return a.map(b,function(b){return{prefix:b.prefix,pages:a.map(b.pages,function(a){return{name:this.getPageTitle(a)}}.bind(this))}}.bind(this))},getPublicAPIDataForRmi:function(){return a.reduce(this.getClientSpecMap(),function(b,c){var d=c.widgets;a.forEach(d,function(a){b[a.widgetId]=a.publicAPI});return b},{})},getPagesDataForRmi:function(){var b=!!this.documentServicesModel;var c=b?this.documentServicesModel.isPublished:true;var e=function(a,b){return{title:a.label||"",fullUrl:c?this.getPageUrl({pageId:a.link.pageId.id,title:a.label},null,b,false):"http://yoursitename.wixsite.com",url:"/"+a.link.pageId.pageUriSEO,visible:a.isVisible,id:a.link.pageId.id,childPages:[]}};var f={pagesData:{},currentPageId:this.getPrimaryPageId(),currentNavigationInfo:this.getRootNavigationInfo(),baseUrl:""};f.baseUrl=this.getPublicBaseUrl();var g=d.getSiteMenuWithoutRenderedLinks(this,true);f.pagesData=a.map(g,function(b){var c=e.call(this,b,f.baseUrl);var d=b.items;a.forEach(d,function(a){var b=e.call(this,a,f.baseUrl);c.childPages.push(b)}.bind(this));return c}.bind(this));return f},getPopupsDataForRmi:function(){return a.transform(this.getAllPageIds(),function a(b,c){var d=this.getDataByQuery(c);if(d&&d.isPopup){b[c]={id:d.id,title:d.title}}}.bind(this),{})},setCustomUrlMapping:function(a,b){this.customUrlMapping[a]=b},addDynamicPageData:function(b,c,d){a.set(this.dynamicPages.data,[b],{routerData:c,routerDefinition:d})},getDynamicPageData:function(a){if(this.dynamicPages&&this.dynamicPages.data&&this.isDynamicPage(a)){return this.dynamicPages.data[a||this.getPrimaryPageId()]}return null},addDynamicPageHeadData:function(b,c){a.set(this.dynamicPages.headData,[b],c)},getDynamicPageHeadData:function(a){if(this.dynamicPages&&this.dynamicPages.headData){return this.dynamicPages.headData[a||this.getPrimaryPageId()]}return null},getRouters:function(){return a.get(this,"routers.configMap")||{}},isPlatformAppOnPage:function(b,c){return a.get(this,["pagesPlatformApplications",c,b],false)},isQaMode:function(){return b.urlUtils.isQueryParamOn(this.currentUrl,"isqa")}};return s});define("siteUtils/core/componentsAnchorsMetaData",["siteUtils/core/constants"],function(a){"use strict";return{default:{to:{allow:true},from:{allow:true,lock:a.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.Column":{to:{allow:true},from:{allow:false,lock:a.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PageGroup":{to:{allow:true},from:{allow:true,lock:a.ANCHORS.LOCK_CONDITION.ALWAYS}},"mobile.core.components.Page":{to:{allow:true},from:{allow:false,lock:a.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.PagesContainer":{to:{allow:true},from:{allow:true,lock:a.ANCHORS.LOCK_CONDITION.THRESHOLD}},"wysiwyg.viewer.components.PopupContainer":{to:{allow:true},from:{allow:false}},"wysiwyg.viewer.components.SiteSegmentContainer":{to:{allow:true},from:{allow:true,lock:a.ANCHORS.LOCK_CONDITION.ALWAYS}},"wysiwyg.viewer.components.WSiteStructure":{to:{allow:true,distance:0},from:{allow:false,lock:a.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPASection":{to:{allow:true},from:{allow:true,lock:a.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.viewer.components.tpapps.TPAMultiSection":{to:{allow:true},from:{allow:true,lock:a.ANCHORS.LOCK_CONDITION.NEVER}},"wysiwyg.common.components.backtotopbutton.viewer.BackToTopButton":{from:{allow:false}},"wysiwyg.viewer.components.tpapps.TPAGluedWidget":{from:{allow:false}},"wixapps.integration.components.AppPage":{from:{allow:false}},"platform.components.AppController":{to:{allow:false},from:{allow:false}}}});define("siteUtils/core/layoutUtils",["lodash","coreUtils"],function(a,b){"use strict";function c(a){return a&&a.docked&&(a.docked.vCenter||a.docked.bottom||a.docked.top)}function d(a){return a&&a.docked&&(a.docked.hCenter||a.docked.left||a.docked.right)}function e(a,b){return parseFloat((b/a).toFixed(5))}function f(b){return!a.isUndefined(b.aspectRatio)}function g(a,b){return Boolean(a&&a.docked&&a.docked[b])}function h(a,b){return a&&a.docked&&a.docked[b]}function i(a){return h(a,"vCenter")}function j(a){return h(a,"top")}function k(a){return h(a,"bottom")}function l(a){return Boolean(a&&a.docked&&(a.docked.bottom&&a.docked.top))}function m(b){return a.has(b,["docked","vCenter"])}function n(b){return a.has(b,["docked","bottom","vh"])&&a.has(b,["docked","top","vh"])}function o(b){return a.has(b,["docked","left","vw"])&&a.has(b,["docked","right","vw"])}function p(a){return n(a)||o(a)}function q(a){return a&&a.docked&&(a.docked.left&&a.docked.right)}function r(a,b,c){return a&&Math.max(b,Math.min(c,a))}function s(){return{top:"",bottom:"",left:"",right:"",width:"",height:"",position:""}}function t(a,e,f,g,h,i){var j=s();j.position=a&&a.position||"absolute";if(a){if(!d(a)){j.left=a.x}if(!c(a)){j.top=a.y}if(!l(a)){j.height=r(a.height,b.siteConstants.COMP_SIZE.MIN_HEIGHT,b.siteConstants.COMP_SIZE.MAX_HEIGHT)}if(!q(a)){j.width=r(a.width,b.siteConstants.COMP_SIZE.MIN_WIDTH,b.siteConstants.COMP_SIZE.MAX_WIDTH)}if(a.fixedPosition){j.position="fixed"}if(a.rotationInDegrees){var k=b.style.getPrefixedTransform();j[k]="rotate("+a.rotationInDegrees+"deg) translateZ(0)"}if(a.docked){b.dockUtils.applyDockedStyle(a,j,e,f,g,h,i)}}return j}function u(a,c,d){var e=c[d.id];return b.boundingLayout.getBoundingLayout({x:e.offsetLeft,y:e.offsetTop,width:y(a.width[d.id],e.offsetWidth),height:y(a.height[d.id],e.offsetHeight),rotationInDegrees:d.layout.rotationInDegrees})}function v(b,c,d,e,f){return a(d).reject({layout:{fixedPosition:true}}).filter(function(a){return!!c[a.id]}).reduce(function(a,d){var g=u(b,c,d);var h=f+g.y;var i=h+g.height;var j=e?v(b,c,d.components,e,h):i;return Math.max(a,i,j)},0)}function w(a,b){return a.isMobileView()?b.structure.mobileComponents:b.structure.components}function x(a,b,c,d){return v(a,b,w(c,d),false,0)}function y(b,c){return a.isNumber(b)?b:c}function z(a,b,c){return y(a.width["ROOT_"+b],c)}function A(a,b,c){return y(a.left["ROOT_"+b],-c)}function B(a,b){var c=a-b;return{left:Math.floor(Math.min(0,.5*c)),width:Math.floor(Math.max(a,b))}}return{isDockToScreen:p,isVerticallyDocked:c,isDockedToDirection:g,getDockToDirection:h,getTopDockData:j,getBottomDockData:k,getVerticallyCenteredDockData:i,isVerticallyStretched:l,isVerticallyCentered:m,isVerticallyStretchedToScreen:n,isHorizontallyDocked:d,isHorizontallyStretched:q,isAspectRatioOn:f,calcAspectRatio:e,getStyle:t,getRootLeft:A,getRootWidth:z,getPageBottomChildEnd:x,stretchInCenteredContainer:B}});define("siteUtils/core/skinAnchorsMetaData",["lodash"],function(a){"use strict";var b={"wysiwyg.viewer.skins.area.BubbleArea":30,"wysiwyg.viewer.skins.area.BubbleLeftArea":30,"wysiwyg.viewer.skins.area.RibbonAreaSkin":function(b){var c=a.get(b,"style.properties");var d=10;if(c){d+=parseInt(c.els,10)||0}return d},"wysiwyg.viewer.skins.area.SloopyArea":6,"wysiwyg.viewer.skins.area.BubbleAreaLeft":10,"wysiwyg.viewer.skins.area.LeftTriangleArea":5,"wysiwyg.viewer.skins.area.RightTriangleArea":5,"wysiwyg.viewer.skins.area.BubbleAreaRight":10,"wysiwyg.viewer.skins.page.SloopyPageSkin":3,"wysiwyg.viewer.skins.page.BasicPageSkin":20,"wysiwyg.viewer.skins.page.LiftedBottomPageSkin":20,"wysiwyg.viewer.skins.page.LiftedTopPageSkin":20,"wysiwyg.viewer.skins.page.BorderPageSkin":20,"wysiwyg.viewer.skins.page.LiftedShadowPageSkin":20,"wysiwyg.viewer.skins.page.ShinyIPageSkin":20};function c(c,d){if(a.isFunction(b[c])){return b[c](d)}return b[c]||0}return{getNonAnchorableHeightForSkin:c}});define("siteUtils/core/anchorsGenerator",["lodash","experiment","siteUtils/core/constants","coreUtils","siteUtils/core/layoutUtils","siteUtils/core/skinAnchorsMetaData","siteUtils/core/componentsAnchorsMetaData"],function(a,b,c,d,e,f,g){"use strict";var h=["BACK_TO_TOP_BUTTON"];var i=["PAGES_CONTAINER"];var j=["SITE_HEADER","SITE_FOOTER","PAGES_CONTAINER"];var k=["Page","Document"];var l=["wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow"];var m;var n={bottomTop:"BOTTOM_TOP",bottomParent:"BOTTOM_PARENT",topTop:"TOP_TOP"};var o="parentNode";function p(a,b){var c=d.boundingLayout.getBoundingY(b);var e=c+d.boundingLayout.getBoundingHeight(b);var f=d.boundingLayout.getBoundingY(a);var g=d.boundingLayout.getBoundingHeight(a);var h=f+g;var i=f+g/2;return e>h&&c>i}function q(a,b,c){var e=a.layout;var f=b.layout;var g=d.boundingLayout.getBoundingY(f);var h=g-d.boundingLayout.getBoundingY(e)-d.boundingLayout.getBoundingHeight(e);var i=c?0:g;return u(n.bottomTop,a.componentType,a.id,b.id,h,i)}function r(a,b){var c=a.layout;var e=b.layout;var f=d.boundingLayout.getBoundingY(e)-d.boundingLayout.getBoundingY(c);return u(n.topTop,a.componentType,a.id,b.id,f,d.boundingLayout.getBoundingY(e))}function s(b,e){if(e.id==="masterPage"||e.id===c.COMP_IDS.PAGES_CONTAINER){return u(n.bottomParent,b.componentType,b.id,e.id,0,0)}var g;var h=e.layout;var i=e.styleId&&e.styleId.replace("#","");var j=m[i];var o=j&&j.skin||e.skin;var p=b.layout;var q=d.boundingLayout.getBoundingY(p);var r=d.boundingLayout.getBoundingHeight(p);var s=h.height-f.getNonAnchorableHeightForSkin(o,j);var t=a.includes(k,e.type)||a.includes(l,e.componentType);var v=s;g=t?0:s-(q+r);return u(n.bottomParent,b.componentType,b.id,e.id,g,v)}function t(a,b,c,d){return{distance:0,locked:true,originalValue:d,fromComp:b,targetComponent:c,type:a}}function u(a,b,c,d,e,f){var g=t(a,c,d,f);g.distance=e;g.locked=v(a,b,e);return g}function v(a,b,d){if(a===n.topTop){return true}var e=g[b]||g.default;if(e.from.lock===c.ANCHORS.LOCK_CONDITION.NEVER){return false}if(e.from.lock===c.ANCHORS.LOCK_CONDITION.ALWAYS){return true}return d<=c.ANCHORS.LOCK_THRESHOLD}function w(c){if(b.isOpen("layout_verbs_with_anchors")){return a.includes(j,c.id)||!(a.includes(h,c.id)||c.layout.fixedPosition||e.isVerticallyCentered(c.layout)||e.isVerticallyStretched(c.layout)&&!e.isVerticallyStretchedToScreen(c.layout))}return a.includes(j,c.id)||!(a.includes(h,c.id)||c.layout.fixedPosition||e.isVerticallyDocked(c.layout))}function x(b,c){return a.flatMap(b,function(b){return a.map(c[b],"target")})}function y(b){var c=x(i,b);var d={};while(c.length){var e=c.shift();d[e]=true;var f=a(b[e]).map("target").reject(function(b){return a.has(d,b)}).value();c=c.concat(f)}return d}function z(b,c,d){var e=y(b);return a(b).map(function(b,f){if(!b.length){return[f,[]]}var g=c[f];if(g.layout.anchors){return[f,g.layout.anchors.slice()]}var h=a(b).map(function(a){if(a.target===o){return s(g,d)}var b=c[a.target];if(a.type===n.bottomTop){return q(g,b,e[b.id])}return r(g,b)}).compact().value();return[f,h]}).fromPairs().value()}function A(b,c){var e=d.dataUtils.getChildrenData(b,c);var f=B(e)?D(b,e,c):e;var g=a.mapKeys(f,function(a){return a.id});var h=a(f).map(function(a){return[a.id,[]]}).fromPairs().value();var i=a.filter(f,w);var j=L(i,g);return a(h).assign(z(j,g,b)).omit("parentNode").value()}function B(b){var c=a.find(b,{id:"SITE_HEADER"});if(!c){return false}var d=a.find(b,{id:"PAGES_CONTAINER"});return d.layout.y<c.layout.y+c.layout.height}function C(b){return a.find(b.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:n.bottomTop})}function D(a,b,c){if(a.layout.anchors){return E(a,b,c)}return F(b)}function E(b,c,e){var f=a.clone(c);var g=a.find(c,{id:"SITE_HEADER"});var h=a.find(c,{id:"SITE_FOOTER"});var i=G(b,e);var j=i+d.boundingLayout.getBoundingY(g.layout)+d.boundingLayout.getBoundingHeight(g.layout);var k=a.findIndex(c,{id:"PAGES_CONTAINER"});var l=c[k];var m=a.assign({},l.layout,{y:j,height:h.layout.y-j});f[k]=a.assign({},l,{layout:m});return f}function F(b){var c=a.clone(b);var e=a.find(b,{id:"SITE_FOOTER"});var f=a.maxBy(b,function(a){if(C(a)){return d.boundingLayout.getBoundingY(a.layout)+d.boundingLayout.getBoundingHeight(a.layout)}return-1e4});if(!f||!C(f)){return c}var g=a.find(f.layout.anchors,{targetComponent:"PAGES_CONTAINER",type:n.bottomTop});var h=d.boundingLayout.getBoundingY(f.layout)+d.boundingLayout.getBoundingHeight(f.layout);var i=g.distance+h;var j=a.findIndex(b,{id:"PAGES_CONTAINER"});var k=b[j];var l=a.assign({},k.layout,{y:i,height:e.layout.y-i});c[j]=a.assign({},k,{layout:l});return c}function G(b,c){return c?0:a.get(b,"layout.anchors.0.distance")}function H(b,c){var d=[];a.forEach(b,function(b,e){var f=a(c[e]).filter({type:n.bottomTop}).map("source").value();d=d.concat(f)});a.forEach(d,function(a){delete b[a]})}function I(b,c){return a.omitBy(b,function(b,d){return a.some(c[d],{type:n.bottomTop})})}function J(c){if(c.componentType){var d=a.get(g,[c.componentType,"to","allow"]);if(d===false){return false}}if(b.isOpen("layout_verbs_with_anchors")){return!e.isDockedToDirection(c.layout,"top")||e.isVerticallyStretchedToScreen(c.layout)}return true}function K(c){if(c.componentType){var d=a.get(g,[c.componentType,"from","allow"]);if(d===false){return false}}if(b.isOpen("layout_verbs_with_anchors")){return!e.isDockedToDirection(c.layout,"bottom")||e.isVerticallyStretchedToScreen(c.layout)}return true}function L(b,c){var d={};var e={};var f=a.sortBy(b,"layout.y");var g={left:-1e5,right:Infinity,ids:["root"]};f=M(f);d.root=[];var h=[g];var i,j,k,l;function m(b,c){if(a.isEmpty(c)){return}if(b.id===o){c=I(c,d)}else{H(c,e)}a.forEach(c,function(a,c){d[c].push({target:b.id,type:a});e[b.id].push({source:c,type:a})})}a.forEach(f,function(b){d[b.id]=[];e[b.id]=[];i=b.layout.x;j=i+b.layout.width;k=null;l=0;var f=J(b);var g=K(b);var o=h.length;var p=[];var q={};var r=[];var s,t,u;function v(a){if(a==="root"){q[a]=n.bottomTop}else{q[a]=N(c[a],b)}}for(u=0;u<o;u++){var w=h[u];if(w.right<=i){p.push(w);continue}if(k===null){k=u;s=true}else{s=false}if(h.length-1===u||h[u+1].left>j){l=u;t=true}if(f){a.forEach(w.ids,v)}if(g){r=P(b.id,r,w,q,s,t,i,j,f)}if(t){break}}delete q.root;m(b,q);if(g){var x=a.takeRight(h,o-l-1);
h=a.compact(p).concat(r,x)}});delete d.root;return d}function M(a){var b={layout:{x:-1e5,y:Infinity,height:10,width:Infinity},id:o};return a.concat(b)}function N(a,b){var c=p(a.layout,b.layout);return c?n.bottomTop:n.topTop}function O(a,c){if(!b.isOpen("layout_verbs_with_anchors")){return a===n.topTop}return!c||a===n.topTop}function P(b,c,d,e,f,g,h,i,j){var k=a.clone(c);if(f){k.push({ids:d.ids,left:d.left,right:h-1})}var l={ids:[b],left:Math.max(h,d.left),right:Math.min(i,d.right)};a.forEach(d.ids,function(a){if(O(e[a],j)){l.ids.push(a)}});var m=a.last(k);if(m&&!a.isEqual(m.ids,l.ids)){k.push(l)}else if(m){m.right=l.right}if(g){k.push({ids:d.ids,left:i+1,right:d.right})}return k}function Q(b,c,e){var f=[b];var g,h,i;var j={};while(f.length){g=f.pop();i=R(g,c,e);a.assign(j,i);h=d.dataUtils.getChildrenData(g,e);Array.prototype.push.apply(f,h)}return j}function R(a,b,c){m=b;return A(a,c)}function S(b,c,d,e,f){var g=false;var h=e-d;if(h<0){return false}a.forEach(b,function(b){if(b.locked&&(b.type===n.bottomTop||b.type===n.bottomParent)){var d=a.get(f,[b.type,b.targetComponent]);var e=d+h;if(a.isNaN(e)){return}if(b.distance!==e){g=true;b.distance=e;b.originalValue=c+e;b.locked=v(b.type,null,e)}}});return g}return{createPageAnchors:Q,createChildrenAnchors:R,packTextAnchors:S}});define("siteUtils/core/layoutAnchorsUtils",["lodash","siteUtils/core/anchorsGenerator","siteUtils/core/skinAnchorsMetaData"],function(a,b,c){"use strict";return{createPageAnchors:b.createPageAnchors,createChildrenAnchors:b.createChildrenAnchors,packTextAnchors:b.packTextAnchors,getNonAnchorableHeightForSkin:c.getNonAnchorableHeightForSkin}});define("siteUtils/core/originalValuesMapGenerator",["lodash","coreUtils","siteUtils/core/skinAnchorsMetaData"],function(a,b,c){"use strict";function d(d,e,f){var g={};function h(d){var i=b.dataUtils.getChildrenData(d,f);var j={};if(d.layout){j.top=b.boundingLayout.getBoundingY(d.layout)}if(!a.isEmpty(i)){if(d.layout){var k=d.styleId&&d.styleId.replace("#","");var l=e[k];var m=l&&l.skin||d.skin;j.height=d.layout.height-c.getNonAnchorableHeightForSkin(m,l)}a.forEach(i,h)}g[d.id]=j}h(d);return g}return{createOriginalValuesMap:d}});define("siteUtils/core/fullToDisplayedJson",["lodash","coreUtils"],function(a,b){"use strict";function c(b,c){var d=true;if(b){var e=!b.isHiddenByModes;var f=c&&!a.isUndefined(c.isHiddenByModes);d=f?!c.isHiddenByModes:e}return d}function d(b,c){b=b||{};return a.omitBy(b[c],function(a){return!a})}function e(b,c){return!a.isEmpty(c)&&a.every(b.modeIds,function(a){return c[a]})}function f(b,c){var d=a.transform(b,function(b,d){if(e(d,c)){a.assign(b,d)}},{});delete d.modeIds;return d}function g(a,b){var c=b&&a.mobileComponents?"mobileComponents":"children";return a[c]?c:"components"}function h(d,e){var h=g(e,false);var j=g(e,true);var k=e.modes;var l=a.get(e,["modes","overrides"]);var m=f(l||[],d,e);if(!c(k,m)){return undefined}var n=b.objectUtils.cloneDeep(a.omit(e,["modes",h,j]));if(k){if(k.overrides){m=a.omit(m,"isHiddenByModes");a.assign(n,m)}if(k.definitions){a.set(n,["modes","definitions"],k.definitions)}}i(n,h,d,e);if(h!==j){i(n,j,d,e)}return n}function i(b,c,d,e){if(!a.isUndefined(e[c])){b[c]=a(e[c]).map(function(a){return h(d,a)}).compact().value()}}function j(c,e){var f=c.structure.id;var g=d(e,f);var i=b.objectUtils.cloneDeep(a.omit(c,["structure","data"]));i.structure=h(g,c.structure);i.data=b.objectUtils.cloneDeep(c.data);return i}function k(b,c){c=c||{};var d={};a.forEach(b,function(a,b){d[b]=j(a,c)});return d}function l(b){return!a.isUndefined(b.structure)}function m(b){return a.get(b,"type")==="Document"}function n(b){return!a.isUndefined(b.componentType)}return{getDisplayedJson:function(a,b,c){var e={};if(a){if(n(a)||m(a)){var f=d(b,c);e.structure=h(f,a)}else if(l(a)){e=j(a,b)}else{e=k(a,b)}}return e},applyModesOnSerializedStructure:function(a,b){b=b||{};return h(b,a)}}});define("siteUtils/core/modesUtils",["lodash","coreUtils"],function(a,b){"use strict";function c(c,f){var g=[];var h=[];var i=[];var j=[];a.forEach(c,function(a){switch(a.type){case b.siteConstants.COMP_MODES_TYPES.DEFAULT:case b.siteConstants.COMP_MODES_TYPES.HOVER:g.push(a.modeId);break;case b.siteConstants.COMP_MODES_TYPES.SCROLL:h.push(a.modeId);break;case b.siteConstants.COMP_MODES_TYPES.WIDTH:i.push(a.modeId);break;default:j.push(a.modeId)}});var k=a.partial(d,f.overrides);var l=a.partial(e,f.overrides);if(f.isHiddenByModes){return g.length&&!a.some(g,l)||h.length&&!a.some(h,l)||i.length&&!a.some(i,l)||j.length&&!a.some(j,l)}return g.length&&a.every(g,k)||h.length&&a.every(h,k)||i.length&&a.every(i,k)||j.length&&a.every(j,k)}function d(b,c){var d=a.find(b,function(b){return a.isEqual([c],b.modeIds)});return d&&d.isHiddenByModes}function e(b,c){var d=a.find(b,function(b){return a.isEqual([c],b.modeIds)});return d&&d.isHiddenByModes===false}function f(c,d,e,h){var i=g(c,d,e,h);var j=b.dataUtils.getChildrenData(c,false);a.reduce(j,function(b,c){var g=f(c,d,e,h);return a.assign(b,g)},i);return i||{}}function g(c,d,e,f){var g=a.get(c,"modes.definitions");if(a.isEmpty(g)){return{}}var j=a.map(g,"modeId");var k=a.pick(d,j);var l=k;var m=a.find(g,{type:b.siteConstants.COMP_MODES_TYPES.DEFAULT});var n=a.find(g,{type:b.siteConstants.COMP_MODES_TYPES.HOVER});if(e&&n&&!k[m.modeId]){return i(c,f,n)}var o=a(g).filter({type:b.siteConstants.COMP_MODES_TYPES.SCROLL}).sortBy("params.scrollPos").value();var p=a(g).filter({type:b.siteConstants.COMP_MODES_TYPES.WIDTH}).sortBy("params.width").value();var q=a.compact([].concat(m,n));l=a.assign({},l,h(k,q),h(k,o),h(k,p));return l}function h(b,c){var d={};var e=a.some(c,function(a){return b[a.modeId]});if(c.length&&!e){d[a.head(c).modeId]=true}return d}function i(a,b,c){var d={};var e=a.propertyQuery;var f=e&&b&&b[e];var g=f&&f.mobileDisplayedModeId||c.modeId;d[g]=true;return d}return{getActiveComponentModeIds:function(b,c){var d=a.map(c,"modeId");return a(b).pick(d).pickBy(a.identity).value()},getModeChanges:function(b,c){b=b||{};c=c||{};var d=a({}).assign(b,c).keys().value();return a.transform(d,function(a,d){var e=b[d];var f=c[d];if(e&&!f){a[d]=false}else if(!e&&f){a[d]=true}},{})},isCompVisibleAfterRemovalFromMode:function(d,e,f,g,h){var i=d.componentStructure.getModes(f);var j=e.isExist(i)&&e.get(i);if(!j){return true}var k=d.componentStructure.getModesDefinitions(g);var l=e.get(k);var m=b.objectUtils.cloneDeep(j);var n=a.findIndex(j.overrides,function(b){return a.isEqual(b.modeIds,[h])});m.overrides=m.overrides||[];if(n>=0){m.overrides[n].isHiddenByModes=true}else{m.overrides.push({modeIds:[h],isHiddenByModes:true})}return!c(l,m)},resolveCompActiveModesRecursive:f}});define("siteUtils/core/positionAndSizeUtils",["lodash","coreUtils","siteUtils/core/layoutUtils"],function(a,b,c){"use strict";function d(d){function e(c,d,e,f){if(c.fixedPosition){return e.width}if(b.dockUtils.isHorizontalDockToScreen(c)){return a.max([e.width,f])}return d.width}function f(a,c,d){if(a.fixedPosition||b.dockUtils.isVerticallyDockToScreen(a)){return d.height}return c.height}function g(b,c,e,f){e=a.max([e,f]);var g=b&&b.pct&&b.pct/100*c||0;var h=b&&b.px||0;var i=b&&b.vw&&b.vw/100*e||0;var j=g+h+i;return d?Math.ceil(j):j}function h(a,b,c){var e=a.pct&&a.pct/100*b||0;var f=a.px||0;var g=a.vh&&a.vh/100*c||0;var h=e+f+g;return d?Math.ceil(h):h}function i(a,b,d,f){if(c.isHorizontallyStretched(a)){var h=e(a,b,d,f);var i=a.docked;var j=g(i.left,h,d.width,f);var k=g(i.right,h,d.width,f);return h-(j+k)}return a.width}function j(a,b,d,e){if(c.isAspectRatioOn(a)){return e*a.aspectRatio}if(c.isVerticallyStretched(a)){var g=f(a,b,d);var i=a.docked;var j=h(i.top,g,d.height);var k=h(i.bottom,g,d.height);return g-(j+k)}return a.height}function k(a,b,c,d){var e=i(a,b,c,d);return j(a,b,c,e)}function l(b,c){return a.max([(b-c)/2,0])}function m(c,d,f,h,i,j){var k=c.docked;if(k){var m=e(c,d,f,h);if(k.left){var n=g(k.left,m,f.width,h);if(b.dockUtils.isHorizontalDockToScreen(c)){var o=a.isUndefined(i)?l(f.width,h):i;n-=o}return n}if(k.right){var p=g(k.right,m,f.width,h);return m-(j+p)}if(k.hCenter){var q=g(k.hCenter,m,f.width,h);return(m-j)/2+q}}return c.x}function n(a,b,d,e){var g=a.docked;if(g){var i=f(a,b,d);if(c.isVerticallyStretchedToScreen(a)){return a.y}if(g.top){return h(g.top,i,d.height)}if(g.bottom){var j=h(g.bottom,i,d.height);return i-(e+j)}if(g.vCenter){var k=h(g.vCenter,i,d.height);return(i-e)/2+k}}return a.y}function o(b,c,d,e,f){if(!b.docked&&!b.aspectRatio){return a.pick(b,["x","y","width","height"])}var g=i(b,c,d,e);var h=j(b,c,d,g);return{x:m(b,c,d,e,f,g),y:n(b,c,d,h),width:g,height:h}}return{getYInPixels:n,getHeightInPixels:k,getPositionAndSize:o}}var e=d(false);var f=d(true);return{getYInPixelsRounded:f.getYInPixels,getHeightInPixelsRounded:f.getHeightInPixels,getPositionAndSizeRounded:f.getPositionAndSize,getYInPixels:e.getYInPixels,getHeightInPixels:e.getHeightInPixels,getPositionAndSize:e.getPositionAndSize}});define("siteUtils/core/structureDimensions",["lodash","siteUtils/core/positionAndSizeUtils"],function(a,b){"use strict";function c(b){var c={};c[b.id]=a.pick(b.layout,["x","y","width","height"]);return c}function d(c,e,f,g,h){var i=e[g];var j=c.components||c.children;a.forEach(j,function(a){e[a.id]=b.getPositionAndSize(a.layout,i,f,h);d(a,e,f,c.id,h)})}function e(a,b,e){var f=c(a);d(a,f,b,a.id,e);return f}function f(e,f,g){var h=c(e);var i=h[e.id];a.forEach(e.mobileComponents,function(a){h[a.id]=b.getPositionAndSize(a.layout,i,f,g);d(a,h,f,a.id,g)});return h}function g(a,b,c,d){return d?f(a,b,c):e(a,b,c)}return{createDimensionsMap:g}});define("siteUtils/core/socialCounterDatabaseAPI",["lodash","coreUtils"],function(a,b){"use strict";var c="likedBlogPosts";var d="https://www.wix.com/_api/blog-social-counters/";var e={defaultQuerySuccessCallback:function(){},defaultQueryCollectFailureCallback:function(){},getLikesForPostsList:function(a,c,e){var f={postsList:a};var g=d+"query-feed/";b.ajaxLibrary.ajax({type:"GET",url:g,crossDomain:true,data:f,contentType:"application/json",dataType:"json",success:c||this.defaultQuerySuccessCallback,error:e||this.defaultQueryCollectFailureCallback})},getAllCountersForPost:function(a,c,e,f){var g={storeId:a,postId:c};var h=d+"query-post/";b.ajaxLibrary.ajax({type:"GET",url:h,crossDomain:true,data:g,contentType:"application/json",dataType:"json",success:e||this.defaultQuerySuccessCallback,error:f||this.defaultQueryCollectFailureCallback})},updateCounter:function(c,e,f,g,h,i,j){if(c==="like"||c==="unlike"){this.toggleUserLike(h)}var k=e;if(!a.isNil(k)){k=k.substring(0,1400)}var l={storeId:g.datastoreId,postId:h,counterType:c,counterName:k,counterValue:f};var m=d+"collector/";b.ajaxLibrary.ajax({url:m,crossDomain:true,type:"POST",data:l,dataType:"json",contentType:"application/json",success:i||this.defaultQuerySuccessCallback,error:j||this.defaultQueryCollectFailureCallback})},updateCategoryTagSearchesCounter:function(a,b,c){this.updateCounter(a,b,c)},toggleUserLike:function(b){var d=JSON.parse(window.localStorage.getItem(c))||{};if(d[b]===false||!a.has(d,b)){d[b]=true}else{d[b]=false}window.localStorage.setItem(c,JSON.stringify(d))}};return{getAllCountersForPost:e.getAllCountersForPost,updateCounter:e.updateCounter,toggleUserLike:e.toggleUserLike,updateCategoryTagSearchesCounter:e.updateCategoryTagSearchesCounter}});define("siteUtils/core/socialShareHandler",["lodash","coreUtils","siteUtils/core/socialCounterDatabaseAPI"],function(a,b,c){"use strict";var d="https://plus.google.com/share?url=";var e="http://www.fancy.com/fancyit/fancy?ItemURL=";var f="http://pinterest.com/pin/create/button/?url=";var g="https://twitter.com/intent/tweet?url=";var h="http://www.facebook.com/sharer.php?u=";var i="whatsapp://send?text=";var j="https://www.googleapis.com/urlshortener/v1/url?key=AIzaSyDjvIfgLnQJsOxcV01kJae48WSynmXmZ2I";var k="https://www.linkedin.com/shareArticle?mini=true&url=";function l(b,c){var d=b.split("#");var e=a.includes(b,"?")?"&":"?";d[0]+=e+c;return d.join("#")}function m(a,b){var c=a;var d=c.split("#!");if(d.length>1){d[1]=decodeURIComponent(d[1]);c=d.join("#!")}if(b){c=c.replace("#!","/#!")}return encodeURIComponent(c)}function n(b){if(b){return encodeURIComponent(a.unescape(b))}return""}function o(b){if(b){return encodeURIComponent(a.unescape(b))}return""}function p(a){if(a){a=a.replace(/#/g,encodeURIComponent("#"));return" "+a}return""}function q(a,c){var d=a||"";if(a&&!b.urlUtils.isExternalUrl(a)){d=c.getMediaFullStaticUrl(a)}d=encodeURIComponent(d);return d}function r(a){var b=d;b+=m(a.url);return b}function s(a,b){var c=e;c+=m(a.url);c+="&Title="+n(a.title);c+="&ImageURL="+q(a.imageUrl,b);return c}function t(a,b){var c=f;c+=m(a.url);c+="&media="+q(a.imageUrl,b);c+="&description="+n(a.title);return c}function u(a){var b=g;b+=m(a.url);b+="&text="+n(a.title)+p(a.hashTags)+encodeURIComponent("\n");return b}function v(a){var b=h;b+=m(a.url);b+="&title="+n(a.title);b+="&description="+o(a.description);return b}function w(a){var b=i;b+=n(a.title);b+=" - "+m(a.url);return b}function x(a){var b=k;b+=m(a.url);b+="&title="+n(a.title);return b}function y(a){var b="mailto:?";b+="&subject="+n(a.title);b+="&body="+o(a.description);return b}function z(a,b){var c={google:r,fancy:s,pinterest:t,twitter:u,facebook:v,whatsapp:w,email:y,linkedin:x};return c[a.service](a,b)||""}function A(a,b,d){var e=z(a,b.getSiteData());if(a.addDeepLinkParam){e=l(e,"deeplink_referrer=socialB_"+a.service)}if(a.service==="email"){window.location.href=e;return}if(!d){c.updateCounter("shares",a.service,1,a.storeId,a.postId)}b.openPopup(e,"wixapps_share","width=635,height=346,scrollbars=no,status=no,toolbar=no,menubar=no,location=no")}function B(a,c,d,e){b.ajaxLibrary.ajax({url:j,type:"POST",contentType:"application/json",data:'{"longUrl": "'+a+'"}',timeout:c||0,async:false,success:function(a){d(a.id)},error:e})}return{handleShareRequest:A,shortenURL:B}});define("siteUtils/core/componentVisibility",["lodash"],function(a){"use strict";var b=[];function c(a){b.push(a)}function d(c){return a.every(b,function(a){return a(c)})}return{isComponentVisible:d,registerPlugin:c}});define("siteUtils/core/fileUploadManager",["lodash"],function(a){"use strict";var b=[];var c=false;var d="_WixCodeAnonymUpload";var e={Image:"picture",Document:"document"};function f(a,b){var d=JSON.parse(b.response);if(b.status===200){a.onSuccess(d);i()}else{c=false;a.onFail(d)}}function g(a,b,c){var g=e[a.fileType];var h=new FormData;h.set("upload_token",b);h.set("media_type",g);h.append("file",a.file);h.append("siteMediaToken",b);h.append("ns",d);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){f(a,i)}};i.open("POST",c);i.send(h)}function h(a){var b=new XMLHttpRequest;b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){var d=JSON.parse(b.response);if(!d.error_code){g(a,d.upload_token,d.upload_url)}else{c=false;a.onFail(d)}}};b.open("GET","https://files.wix.com/files/upload/url?media_type=picture");b.setRequestHeader("Authorization",a.authorizationToken);b.setRequestHeader("Accept","application/json");b.setRequestHeader("Content-Type","application/json");b.send(null)}function i(){if(b.length===0){c=false;return}var d=a.pullAt(b,0)[0];h(d)}function j(a,d,e,f,g){if(!d){throw new Error("No upload authorization token given!")}b=b.concat({file:a,authorizationToken:d,fileType:e,onSuccess:f,onFail:g});if(!c){i();c=true}}return{uploadFile:j}});define("siteUtils/core/compAlignmentUtils",[],function(){"use strict";var a={LEFT:"left",CENTER:"center",RIGHT:"right"};var b={TOP:"top",CENTER:"center",BOTTOM:"bottom"};return{getLeft:function(b,c,d,e){var f;var g=Math.min(e,d);var h=(d-e)/2;switch(b.horizontalAlignment){case a.LEFT:f=-Math.max(0,h);f+=b.horizontalOffset;break;case a.RIGHT:f=g-c+Math.max(0,h);f-=b.horizontalOffset;break;case a.CENTER:f=(g-c)/2;f+=b.horizontalOffset;break}return f},getTop:function(a,c,d){var e;var f=d-c;switch(a.verticalAlignment){case b.TOP:e=a.verticalOffset;break;case b.BOTTOM:e=Math.max(f-a.verticalOffset,0);break;case b.CENTER:e=Math.max(f/2,0);e+=a.verticalOffset;break}return e}}});define("siteUtils",["coreUtils","siteUtils/utils/mobileUtils","siteUtils/svgShapes/svgFeatureDetection","siteUtils/core/MobileDeviceAnalyzer","siteUtils/core/browserDetection","siteUtils/core/SiteData","siteUtils/core/componentsAnchorsMetaData","siteUtils/core/layoutAnchorsUtils","siteUtils/core/originalValuesMapGenerator","siteUtils/core/constants","siteUtils/core/fullToDisplayedJson","siteUtils/core/modesUtils","siteUtils/core/linkRenderer","siteUtils/core/menuUtils","siteUtils/core/routerUtils","siteUtils/core/layoutUtils","siteUtils/core/positionAndSizeUtils","siteUtils/core/structureDimensions","siteUtils/core/socialShareHandler","siteUtils/core/socialCounterDatabaseAPI","siteUtils/core/componentVisibility","siteUtils/core/fileUploadManager","siteUtils/core/pagesUrlUtils","siteUtils/core/compAlignmentUtils"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){"use strict";var y={renderDoneMixin:a.renderDoneMixin,mobileUtils:b,MobileDeviceAnalyzer:d,browserDetection:e,SiteData:f,componentsAnchorsMetaData:g,layoutAnchors:h,originalValuesMapGenerator:i,constants:j,fullToDisplayedJson:k,modes:l,linkRenderer:m,menuUtils:n,routerUtils:o,layout:p,positionAndSize:q,structureDimensions:r,socialShareHandler:s,socialCounterDatabaseAPI:t,componentVisibility:{isComponentVisible:u.isComponentVisible,registerPlugin:u.registerPlugin},svgFeatureDetection:c,fileUploadManager:v,compAlignmentUtils:x,pagesUrlUtils:w};return y});