define("flashComponent",["lodash","reactDOM","core","utils","imageClientApi","santaProps","image","swfobject"],function(a,b,c,d,e,f,g){"use strict";var h=c.compMixins;var i=d.linkRenderer;function j(a,b,c,d){var e=!!a.link;var f=e?i.renderLink(a.link,b,d):{};f.style={textAlign:c.align};return f}function k(a,b,c,f,g){var h={width:b,height:c};var i={width:f,height:g};if(a==="fit"){return d.imageUtils.getContainerSize(h,i,e.fittingTypes.LEGACY_FIT_WIDTH)}else if(a==="stretch"){return d.imageUtils.getContainerSize(h,i,e.fittingTypes.STRETCH)}return{width:f,height:g}}function l(a,b){return this.createChildComponent(a,"core.components.Image","noFlashImg",{id:this.props.id+"noFlashImg",ref:"noFlashImg",imageData:a,containerWidth:b.width,containerHeight:b.height,displayMode:e.fittingTypes.LEGACY_FULL})}function m(){window.swfobject.embedSWF(o(this.props.compData,this.props.staticMediaUrl),this.props.id+"flashContainer","100%","100%","10.0.0","playerProductInstall.swf",null,p(),q(),n.bind(this));this.embeddedUri=this.props.compData.uri}function n(a){if(a.success){b.findDOMNode(this.refs.noFlashImgContainer).style.display="none"}}function o(a,b){if(a.uri){return b+"/"+a.uri}return""}function p(){return{quality:"high",bgcolor:"#FAFAFA",allowscriptaccess:"never",allowfullscreen:"true",wMode:"transparent",scale:"exactFit",flashVars:"",play:"true",autoplay:"true"}}function q(){return{align:"middle"}}return{displayName:"FlashComponent",mixins:[h.skinBasedComp],statics:{useSantaTypes:true},propTypes:a.assign({staticMediaUrl:f.Types.ServiceTopology.staticMediaUrl.isRequired,linkRenderInfo:f.Types.Link.linkRenderInfo.isRequired,id:f.Types.Component.id.isRequired,compData:f.Types.Component.compData.isRequired,compProp:f.Types.Component.compProp.isRequired,style:f.Types.Component.style.isRequired,rootNavigationInfo:f.Types.Component.rootNavigationInfo.isRequired},f.santaTypesUtils.getSantaTypesByDefinition(g)),getInitialState:function(){this.embeddedUri=null;var a=!!this.props.compData.link;return{$linkableComponent:a?"link":"noLink"}},componentDidMount:function(){m.call(this)},componentDidUpdate:function(){if(this.props.compData.uri!==this.embeddedUri){m.call(this)}},getSkinProperties:function(){var a=this.props.compData.placeHolderImage;var b=this.props.compProp.displayMode;var c=this.props.compData.uri?this.props.compData.width:a.width;var d=this.props.compData.uri?this.props.compData.height:a.height;var e=k(b,this.props.style.width,this.props.style.height,c,d);return{"":{style:{width:e.width,height:e.height}},link:j(this.props.compData,this.props.linkRenderInfo,this.props.compProp,this.props.rootNavigationInfo),noFlashImg:l.call(this,a,e)}}}});