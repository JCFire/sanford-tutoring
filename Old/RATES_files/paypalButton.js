define("paypalButton",["core","lodash","santaProps","utils","reactDOM"],function(a,b,c,d,e){"use strict";var f=a.compMixins;var g=c.Types;var h={da:{image:"da_DK",pixel:"da_DK"},de:{image:"de_DE",pixel:"de_DE"},en:{image:"en_US",pixel:"en_US"},es:{image:"es_ES",pixel:"es_ES"},fr:{image:"fr_FR",pixel:"fr_FR"},it:{image:"it_IT",pixel:"it_IT"},ja:{image:"ja_JP",pixel:"ja_JP"},jp:{image:"ja_JP",pixel:"ja_JP"},nl:{image:"nl_NL",pixel:"nl_NL"},no:{image:"no_NO",pixel:"en_US"},pl:{image:"pl_PL",pixel:"pl_PL"},pt:{image:"pt_BR",pixel:"pt_BR"},ru:{image:"ru_RU",pixel:"en_US"},sv:{image:"sv_SE",pixel:"sv_SE"},tr:{image:"tr_TR",pixel:"tr_TR"}};var i="https://inventory.wix.com/ecommerce/ipn/paypal";var j="https://www.paypalobjects.com/${locale}/i/btn/btn_${buttonType}${showCreditCards}${buttonSize}.gif";var k="https://www.paypalobjects.com/${locale}/i/scr/pixel.gif";function l(a,b,c){if(a==="userLang"){return d.wixUserApi.getLanguage(b,c)}return a}function m(a,b,c){var d=l(a,b,c)||"";return h[d.toLowerCase()]||h.en}function n(a){var b={};if(a.buttonType==="buy"){b.cmdType="_xclick";b.buildNotation="Wix_BuyNow_WPS_IL";b.itemName=a.itemName;b.itemNumber=a.itemID}else{b.cmdType="_donations";b.buildNotation="Wix_Donate_WPS_IL";b.itemName=a.organizationName;b.itemNumber=a.organizationID}return b}return{displayName:"PayPalButton",mixins:[f.skinBasedComp],propTypes:{compData:g.Component.compData,compProp:g.Component.compProp,currentUrl:g.currentUrl,cookie:g.RequestModel.cookie},statics:{useSantaTypes:true},onImageChanged:function(){this.registerReLayout();this.forceUpdate()},submitForm:function(){e.findDOMNode(this.refs.form).submit()},getSkinProperties:function(){var a=this.props;var c=n(a.compProp);var d=m(a.compProp.language,a.cookie,a.currentUrl);var e=a.currentUrl.full;var f=a.compProp.amount;return{form:{target:a.compProp.target},cmd:{value:c.cmdType},item_name:{value:c.itemName},item_number:{value:c.itemNumber},bn:{value:c.buildNotation},business:{value:a.compData.merchantID},currency_code:{value:a.compProp.currencyCode},notify_url:{value:i},return:{value:e},cancel_return:{value:e},amount:{value:parseFloat(f,10)>0?f:undefined},trackingPixel:{src:b.template(k)({locale:d.pixel})},submitImage:{src:b.template(j)({locale:d.image,buttonType:a.compProp.buttonType==="buy"?"buynow":"donate",showCreditCards:a.compProp.showCreditCards&&!a.compProp.smallButton?"CC":"",buttonSize:a.compProp.smallButton?"_SM":"_LG"}),onLoad:this.onImageChanged,onClick:this.submitForm}}}}});