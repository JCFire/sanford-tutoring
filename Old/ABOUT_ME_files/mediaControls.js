define("mediaControls/mediaControlPlay/mediaControlPlay",["react","core","utils","santaProps"],function(a,b,c,d){"use strict";var e=c.mediaConsts;return{displayName:"MediaControlPlay",mixins:[b.compMixins.skinBasedComp],propTypes:{style:a.PropTypes.object,playerId:a.PropTypes.string.isRequired,mediaAspect:d.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:d.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:true},getInitialState:function(){return{playbackState:e.playbackTypes.WAITING}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setPlaybackState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setPlaybackState:function(a){if(this.state.playbackState!==a.playbackState){this.setState({playbackState:a.playbackState})}},clickAction:function(){var a=this.state.playbackState===e.playbackTypes.PLAYING;this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:a?"pause":"play"})},getSkinProperties:function(){var a=this.state.playbackState===e.playbackTypes.PLAYING;return{"":{style:this.props.style},playButton:{className:this.classSet({"video-playing":a,"video-paused":!a}),onClick:this.clickAction}}}}});define("mediaControls/mediaControlFullscreen/mediaControlFullscreen",["react","core","santaProps"],function(a,b,c){"use strict";return{displayName:"MediaControlFullscreen",mixins:[b.compMixins.skinBasedComp],propTypes:{style:a.PropTypes.object,playerId:a.PropTypes.string.isRequired,enableFullsceen:a.PropTypes.bool,mediaAspect:c.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:c.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:true},getInitialState:function(){return{fullscreen:false}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setFullscreenState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setFullscreenState:function(a){if(this.state.fullscreen!==a.fullscreen){this.setState({fullscreen:a.fullscreen})}},clickAction:function(){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:this.state.fullscreen?"exitFullscreen":"enterFullscreen"})},getSkinProperties:function(){var a={"":{style:this.props.style},fullscreenButton:{className:this.classSet({"video-fullscreen":this.state.fullscreen,"video-windowed":!this.state.fullscreen,disabled:!this.props.enableFullsceen})}};if(this.props.enableFullsceen){a.fullscreenButton.onClick=this.clickAction}return a}}});define("mediaControls/mediaControlVolume/mediaControlVolume",["lodash","react","core","santaProps"],function(a,b,c,d){"use strict";return{displayName:"MediaControlVolume",mixins:[c.compMixins.skinBasedComp],propTypes:{style:b.PropTypes.object,playerId:b.PropTypes.string.isRequired,mediaAspect:d.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:d.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:true},getInitialState:function(){return{muted:false,volume:0}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setVolumeState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setVolumeState:function(a){if(this.state.volume!==a.volume||this.state.muted!==a.muted){this.setState({muted:a.muted,volume:a.volume})}},clickActionUp:function(){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"setVolume",params:{volume:this.state.volume+.1}})},clickActionDown:function(){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"setVolume",params:{volume:this.state.volume-.1}})},clickActionMute:function(){if(this.state.muted){this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"unMute"})}else{this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"mute"})}},getSkinProperties:function(){var b={"":{style:this.props.style},volume:{className:this.classSet({muted:this.state.muted})},mute:{onClick:this.clickActionMute}};if(!this.state.muted){a.assign(b,{up:{onClick:this.clickActionUp},down:{onClick:this.clickActionDown}})}return b}}});define("mediaControls/mediaControlProgress/mediaControlProgress",["react","core","utils","santaProps"],function(a,b,c,d){"use strict";var e=c.mediaConsts;return{displayName:"MediaControlProgress",mixins:[b.compMixins.skinBasedComp],propTypes:{style:a.PropTypes.object,playerId:a.PropTypes.string.isRequired,mediaAspect:d.Types.SiteAspects.mediaAspect.isRequired,handleBehavior:d.Types.Behaviors.handleBehavior.isRequired},statics:{useSantaTypes:true},getInitialState:function(){return{playbackState:e.playbackTypes.WAITING,currentTime:0,progress:0,duration:0}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setState.bind(this))},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},clickAction:function(){var a=15;this.props.handleBehavior({type:"comp",targetId:this.props.playerId,name:"seek",params:{time:a}})},getSkinProperties:function(){var a=this.props.style.height/2;return{"":{style:this.props.style,onMouseUp:this.clickAction},progressIdle:{style:{top:a}},progressLoad:{style:{top:a,width:this.state.progress/this.state.duration*100+"%"}},progressPlay:{style:{top:a,width:this.state.currentTime/this.state.duration*100+"%"}},playHead:{style:{top:a,left:this.state.currentTime/this.state.duration*100+"%"}}}}}});define("mediaControls/mediaControlTime/mediaControlTime",["react","core","santaProps"],function(a,b,c){"use strict";function d(a){var b=new Date(a*1e3);var c=b.getUTCHours();var d=b.getUTCMinutes();var e=b.getUTCSeconds();if(e<10){e="0"+e}if(c){if(d<10){d="0"+d}return c+":"+d+":"+e}return d+":"+e}return{displayName:"MediaControlTime",mixins:[b.compMixins.skinBasedComp],propTypes:{style:a.PropTypes.object,playerId:a.PropTypes.string.isRequired,mediaAspect:c.Types.SiteAspects.mediaAspect.isRequired},statics:{useSantaTypes:true},getInitialState:function(){return{currentTime:0,duration:0}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setState.bind(this))},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},getSkinProperties:function(){return{"":{style:this.props.style},played:{children:[d(this.state.currentTime)]},total:{children:[d(this.state.duration)]}}}}});define("mediaControls/mediaControlsContainer/mediaControlsContainer",["react","lodash","core","santaProps","utils","mediaControls/mediaControlPlay/mediaControlPlay","mediaControls/mediaControlFullscreen/mediaControlFullscreen","mediaControls/mediaControlVolume/mediaControlVolume","mediaControls/mediaControlProgress/mediaControlProgress","mediaControls/mediaControlTime/mediaControlTime"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=e.mediaConsts;var l={play:{componentName:"wysiwyg.viewer.components.mediaControlPlay",skinName:"skins.viewer.mediaControlPlayDefaultSkin",styleId:"mcp1",style:{width:40,height:40}},volume:{componentName:"wysiwyg.viewer.components.mediaControlVolume",skinName:"skins.viewer.mediaControlVolumeDefaultSkin",styleId:"mcv1",style:{width:120,height:40}},fullscreen:{componentName:"wysiwyg.viewer.components.mediaControlFullscreen",skinName:"skins.viewer.mediaControlFullscreenDefaultSkin",styleId:"mcf1",style:{width:40,height:40}},progress:{componentName:"wysiwyg.viewer.components.mediaControlProgress",skinName:"skins.viewer.mediaControlProgressDefaultSkin",styleId:"mcpr1",style:{width:240,height:40}},time:{componentName:"wysiwyg.viewer.components.mediaControlTime",skinName:"skins.viewer.mediaControlTimeDefaultSkin",styleId:"mct1",style:{width:120,height:40}}};return{displayName:"MediaControls",mixins:[c.compMixins.skinBasedComp],propTypes:b.defaults({id:d.Types.Component.id.isRequired,mediaAspect:d.Types.SiteAspects.mediaAspect.isRequired,playerId:a.PropTypes.string.isRequired,enableFullsceen:a.PropTypes.bool},d.santaTypesUtils.getSantaTypesByDefinition(f),d.santaTypesUtils.getSantaTypesByDefinition(g),d.santaTypesUtils.getSantaTypesByDefinition(h),d.santaTypesUtils.getSantaTypesByDefinition(i),d.santaTypesUtils.getSantaTypesByDefinition(j)),statics:{useSantaTypes:true},getInitialState:function(){return{playbackState:k.playbackTypes.WAITING}},componentDidMount:function(){this.props.mediaAspect.registerStateChange(this.props.id,this.props.playerId,this.setPlaybackState)},componentWillUnmount:function(){this.props.mediaAspect.unregisterStateChange(this.props.id,this.props.playerId)},setPlaybackState:function(a){if(this.state.playbackState!==a.playbackState){this.setState({playbackState:a.playbackState})}},getControl:function(a){var b=l[a].componentName;var c=a;var d={ref:a,skinPart:a,id:this.props.id+a,playerId:this.props.playerId,style:l[a].style};return this.createChildComponent(null,b,c,d)},getSkinProperties:function(){var a=this.state.playbackState===k.playbackTypes.PLAYING;return{"":{style:this.props.style},controls:{className:this.classSet({"video-playing":a,"video-paused":!a})},play:this.getControl("play"),volume:this.getControl("volume"),fullscreen:this.getControl("fullscreen"),progress:this.getControl("progress"),time:this.getControl("time")}}}});define("mediaControls",["mediaControls/mediaControlsContainer/mediaControlsContainer","mediaControls/mediaControlPlay/mediaControlPlay","mediaControls/mediaControlFullscreen/mediaControlFullscreen","mediaControls/mediaControlVolume/mediaControlVolume","mediaControls/mediaControlProgress/mediaControlProgress","mediaControls/mediaControlTime/mediaControlTime"],function(a,b,c,d,e,f){"use strict";return{mediaControls:a,mediaControlPlay:b,mediaControlFullscreen:c,mediaControlVolume:d,mediaControlProgress:e,mediaControlTime:f}});